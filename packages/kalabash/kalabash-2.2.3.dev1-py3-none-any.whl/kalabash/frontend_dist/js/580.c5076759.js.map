{"version":3,"file":"js/580.c5076759.js","mappings":"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","sources":["webpack://Kalabash/./src/views/imap_migration/Providers.vue","webpack://Kalabash/./src/components/imap_migration/ProviderCreationForm.vue","webpack://Kalabash/src/components/imap_migration/ProviderCreationForm.vue","webpack://Kalabash/./src/components/imap_migration/ProviderCreationForm.vue?d527","webpack://Kalabash/./src/components/imap_migration/ProviderCreationForm.vue?d03b","webpack://Kalabash/./src/components/imap_migration/ProvidersList.vue","webpack://Kalabash/src/components/imap_migration/ProvidersList.vue","webpack://Kalabash/./src/components/imap_migration/ProvidersList.vue?3709","webpack://Kalabash/./src/components/imap_migration/ProvidersList.vue?4922","webpack://Kalabash/src/views/imap_migration/Providers.vue","webpack://Kalabash/./src/views/imap_migration/Providers.vue?5a26","webpack://Kalabash/./src/views/imap_migration/Providers.vue?59b2"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-toolbar-title',[_c('translate',[_vm._v(\"Providers\")])],1),_c('v-spacer'),_c('v-btn',{attrs:{\"offset-y\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){_vm.showProviderWizard = true}}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_c('translate',[_vm._v(\"New\")])],1)],1),_c('providers-list'),_c('v-dialog',{attrs:{\"fullscreen\":\"\",\"scrollable\":\"\",\"transition\":\"dialog-bottom-transition\"},scopedSlots:_vm._u([{key:\"help\",fn:function(){return [_c('ul',[_c('li',[_c('em',[_vm._v(\"domain; name; quota; default mailbox quota; enabled\")])]),_c('li',[_c('em',[_vm._v(\"domainalias; name; targeted domain; enabled\")])])])]},proxy:true}]),model:{value:(_vm.showProviderWizard),callback:function ($$v) {_vm.showProviderWizard=$$v},expression:\"showProviderWizard\"}},[_c('provider-creation-form',{on:{\"close\":function($event){_vm.showProviderWizard = false}}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('creation-form',{ref:\"form\",attrs:{\"title\":_vm._f(\"translate\")('New provider'),\"steps\":_vm.steps,\"form-observer-getter\":_vm.getObserver,\"form-getter\":_vm.getForm,\"validate-object\":_vm.validateProvider,\"summary-sections\":_vm.summarySections},on:{\"close\":_vm.close,\"create\":_vm.submit},scopedSlots:_vm._u([{key:\"form.general\",fn:function({ step }){return [_c('provider-general-form',{ref:`form_${step}`,model:{value:(_vm.provider),callback:function ($$v) {_vm.provider=$$v},expression:\"provider\"}})]}},{key:\"form.associated\",fn:function({ step }){return [_c('provider-associated-form',{ref:`form_${step}`,model:{value:(_vm.provider.domains),callback:function ($$v) {_vm.$set(_vm.provider, \"domains\", $$v)},expression:\"provider.domains\"}})]}}])})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<creation-form\n  ref=\"form\"\n  :title=\"'New provider'|translate\"\n  :steps=\"steps\"\n  :form-observer-getter=\"getObserver\"\n  :form-getter=\"getForm\"\n  :validate-object=\"validateProvider\"\n  :summary-sections=\"summarySections\"\n  @close=\"close\"\n  @create=\"submit\"\n  >\n  <template v-slot:form.general=\"{ step }\">\n    <provider-general-form :ref=\"`form_${step}`\" v-model=\"provider\" />\n  </template>\n  <template v-slot:form.associated=\"{ step }\">\n    <provider-associated-form :ref=\"`form_${step}`\" v-model=\"provider.domains\" />\n  </template>\n</creation-form>\n</template>\n\n<script>\nimport { bus } from '@/main'\nimport CreationForm from '@/components/tools/CreationForm'\nimport ProviderAssociatedForm from './ProviderAssociatedForm'\nimport ProviderGeneralForm from './ProviderGeneralForm'\n\nexport default {\n  props: ['value'],\n  components: {\n    CreationForm,\n    'provider-associated-form': ProviderAssociatedForm,\n    ProviderGeneralForm\n  },\n  computed: {\n    associatedDomainsSummary () {\n      const result = []\n      for (const domain of this.provider.domains) {\n        const value = domain.new_domain ? `${domain.name} => ${domain.new_domain.name}` : domain.name\n        result.push(\n          { key: '', value }\n        )\n      }\n      return result\n    },\n    summarySections () {\n      const result = [\n        {\n          title: this.$gettext('General'),\n          items: [\n            { key: this.$gettext('Name'), value: this.provider.name },\n            { key: this.$gettext('Address'), value: this.provider.address },\n            { key: this.$gettext('Port'), value: this.provider.port },\n            { key: this.$gettext('Secured'), value: this.provider.secured, type: 'yesno' }\n          ]\n        },\n        {\n          title: this.$gettext('Associated domains'),\n          items: this.associatedDomainsSummary\n        }\n      ]\n      return result\n    },\n    steps () {\n      return [\n        { name: 'general', title: this.$gettext('General') },\n        { name: 'associated', title: this.$gettext('Associated domains') }\n      ]\n    }\n  },\n  data () {\n    return {\n      provider: {\n        domains: []\n      },\n      formErrors: {}\n    }\n  },\n  mounted () {\n    this.initProvider()\n  },\n  methods: {\n    initProvider () {\n      this.provider = {\n        name: '',\n        address: '',\n        port: 993,\n        secured: true,\n        domains: []\n      }\n    },\n    close () {\n      this.initProvider()\n      this.$refs.form.resetForm()\n      this.$emit('close')\n    },\n    getForm (step) {\n      return this.$refs[`form_${step}`]\n    },\n    getObserver (step) {\n      return this.$refs[`form_${step}`].$refs.observer\n    },\n    validateProvider () {\n\n    },\n    submit () {\n      const data = { ...this.provider }\n      data.domains = []\n      for (const domain of this.provider.domains) {\n        if (domain.new_domain) {\n          data.domains.push({\n            name: domain.name,\n            new_domain: domain.new_domain.pk\n          })\n        } else {\n          data.domains.push(domain)\n        }\n      }\n      this.$store.dispatch('providers/createProvider', data).then(() => {\n        bus.$emit('notification', { msg: this.$gettext('Provider created') })\n        this.close()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.highligth {\n  background-color: #515D78;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProviderCreationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProviderCreationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProviderCreationForm.vue?vue&type=template&id=6232a2f4&\"\nimport script from \"./ProviderCreationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ProviderCreationForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProviderCreationForm.vue?vue&type=style&index=0&id=6232a2f4&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"mt-6\"},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" Actions \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-chevron-down\")])],1)]}}])},[_c('v-list',{attrs:{\"dense\":\"\"}})],1),_c('v-spacer'),_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"placeholder\":\"Search\",\"filled\":\"\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.providers,\"search\":_vm.search,\"item-key\":\"name\",\"single-expand\":\"\",\"expanded\":_vm.expanded,\"show-select\":\"\"},on:{\"update:expanded\":function($event){_vm.expanded=$event},\"click:row\":(item, slot) => slot.expand(!slot.isExpanded)},scopedSlots:_vm._u([{key:\"item.secured\",fn:function({ item }){return [(item.secured === true)?_c('v-icon',{attrs:{\"color\":\"green\"}},[_vm._v(\" mdi-lock \")]):_c('v-icon',{attrs:{\"color\":\"red\"}},[_vm._v(\" mdi-lock-off \")])]}},{key:\"item.domains\",fn:function({ item }){return [(item.domains.length > 0)?_c('v-chip',[_vm._v(\" \"+_vm._s(item.domains.length)+\" associated domain(s) \")]):_c('v-chip',[_vm._v(\" No associated domain \")])]}},{key:\"expanded-item\",fn:function({ headers, item }){return [_c('td',{attrs:{\"colspan\":headers.length}},_vm._l((item.domains),function(domain,index){return _c('v-chip',{key:index},[(domain.new_domain)?[_vm._v(\" \"+_vm._s(domain.name)+\" --> \"+_vm._s(domain.new_domain.name)+\" \")]:[_vm._v(\" \"+_vm._s(domain.name)+\" --> \"+_vm._s(domain.name)+\" \")]],2)}),1)]}},{key:\"item.actions\",fn:function({ item }){return [_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-horizontal\")])],1)]}}],null,true)},[_c('menu-items',{attrs:{\"items\":_vm.getMenuItems(item),\"object\":item}})],1)]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-card class=\"mt-6\">\n  <v-toolbar flat>\n    <v-menu offset-y>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn v-bind=\"attrs\" v-on=\"on\" small>\n          Actions <v-icon right>mdi-chevron-down</v-icon>\n        </v-btn>\n      </template>\n      <v-list dense>\n      </v-list>\n    </v-menu>\n    <v-spacer></v-spacer>\n    <v-text-field\n      v-model=\"search\"\n      prepend-inner-icon=\"mdi-magnify\"\n      placeholder=\"Search\"\n      filled\n      outlined\n      dense\n      hide-details\n      ></v-text-field>\n  </v-toolbar>\n  <v-data-table\n    v-model=\"selected\"\n    :headers=\"headers\"\n    :items=\"providers\"\n    :search=\"search\"\n    item-key=\"name\"\n    single-expand\n    :expanded.sync=\"expanded\"\n    class=\"elevation-1\"\n    show-select\n    @click:row=\"(item, slot) => slot.expand(!slot.isExpanded)\"\n    >\n    <template v-slot:item.secured=\"{ item }\">\n      <v-icon\n        v-if=\"item.secured === true\"\n        color=\"green\"\n        >\n        mdi-lock\n      </v-icon>\n      <v-icon\n        color=\"red\"\n        v-else\n        >\n        mdi-lock-off\n      </v-icon>\n    </template>\n    <template v-slot:item.domains=\"{ item }\">\n      <v-chip\n        v-if=\"item.domains.length > 0\"\n        >\n        {{item.domains.length}} associated domain(s)\n      </v-chip>\n      <v-chip\n        v-else\n        >\n        No associated domain\n      </v-chip>\n    </template>\n    <template v-slot:expanded-item=\"{ headers, item }\">\n      <td :colspan=\"headers.length\">\n        <v-chip\n          v-for=\"(domain, index) in item.domains\"\n          :key=\"index\"\n          >\n          <template v-if=\"domain.new_domain\">\n          {{domain.name}} --> {{domain.new_domain.name}}\n          </template>\n          <template v-else>\n          {{domain.name}} --> {{domain.name}}\n          </template>\n        </v-chip>\n      </td>\n    </template>\n    <template v-slot:item.actions=\"{ item }\">\n      <v-menu offset-y>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn icon v-bind=\"attrs\" v-on=\"on\">\n            <v-icon>mdi-dots-horizontal</v-icon>\n          </v-btn>\n        </template>\n        <menu-items :items=\"getMenuItems(item)\" :object=\"item\" />\n      </v-menu>\n    </template>\n  </v-data-table>\n</v-card>\n</template>\n\n<script>\n\nimport { mapGetters } from 'vuex'\nimport { bus } from '@/main'\nimport MenuItems from '@/components/tools/MenuItems'\n\nexport default {\n  components: {\n    MenuItems\n  },\n  computed: mapGetters({\n    providers: 'providers/providers'\n  }),\n  data () {\n    return {\n      headers: [\n        { text: this.$gettext('Name'), value: 'name' },\n        { text: this.$gettext('Address'), value: 'address' },\n        { text: this.$gettext('Port'), value: 'port' },\n        { text: this.$gettext('Secured'), value: 'secured' },\n        { text: this.$gettext('Associated domains'), value: 'domains' },\n        { text: this.$gettext('Actions'), value: 'actions', sortable: false, align: 'right' }\n      ],\n      selected: [],\n      search: '',\n      expanded: []\n    }\n  },\n  methods: {\n    deleteProvider (provider) {\n      this.$store.dispatch('providers/deleteProvider', { id: provider.id }).then(resp => {\n        bus.$emit('notification', { msg: this.$gettext('Provider deleted') })\n      })\n    },\n    editProvider (provider) {\n      this.$router.push({ name: 'ProviderEdit', params: { id: provider.id } })\n    },\n    loadAssociatedDomains ({ item, value }) {\n      if (!value) {\n        return\n      }\n      this.$set(this.item.domains)\n    },\n    getMenuItems (item) {\n      const result = []\n      result.push({\n        label: this.$gettext('Delete'),\n        icon: 'mdi-delete-outline',\n        onClick: this.deleteProvider,\n        color: 'red'\n      })\n      result.push({\n        label: this.$gettext('Edit'),\n        icon: 'mdi-circle-edit-outline',\n        onClick: this.editProvider\n      })\n      return result\n    }\n  },\n  created () {\n    this.$store.dispatch('providers/getProviders')\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProvidersList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ProvidersList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProvidersList.vue?vue&type=template&id=e2ad63da&\"\nimport script from \"./ProvidersList.vue?vue&type=script&lang=js&\"\nexport * from \"./ProvidersList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div>\n  <v-toolbar flat>\n    <v-toolbar-title><translate>Providers</translate></v-toolbar-title>\n    <v-spacer />\n    <v-btn\n      offset-y\n      color=\"primary\"\n      @click=\"showProviderWizard = true\"\n      >\n      <v-icon left>mdi-plus</v-icon>\n      <translate>New</translate>\n    </v-btn>\n  </v-toolbar>\n  <providers-list />\n\n  <v-dialog\n    v-model=\"showProviderWizard\"\n    fullscreen\n    scrollable\n    transition=\"dialog-bottom-transition\"\n    >\n    <provider-creation-form @close=\"showProviderWizard = false\" />\n      <template v-slot:help>\n        <ul>\n          <li><em>domain; name; quota; default mailbox quota; enabled</em></li>\n          <li><em>domainalias; name; targeted domain; enabled</em></li>\n        </ul>\n      </template>\n  </v-dialog>\n\n</div>\n</template>\n\n<script>\nimport ProviderCreationForm from '@/components/imap_migration/ProviderCreationForm'\nimport ProvidersList from '@/components/imap_migration/ProvidersList'\n\nexport default {\n  components: {\n    ProviderCreationForm,\n    ProvidersList\n  },\n  data () {\n    return {\n      showProviderWizard: false\n    }\n  }\n}\n</script>\n\n<style scoped>\n.v-toolbar {\n  background-color: #f7f8fa !important;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Providers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Providers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Providers.vue?vue&type=template&id=4c05659b&scoped=true&\"\nimport script from \"./Providers.vue?vue&type=script&lang=js&\"\nexport * from \"./Providers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Providers.vue?vue&type=style&index=0&id=4c05659b&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c05659b\",\n  null\n  \n)\n\nexport default component.exports"],"names":["_c","attrs","_vm","showProviderWizard","_v","key","proxy","model","value","callback","$$v","expression","$event","staticRenderFns","render","this","_self","ref","_f","steps","getObserver","getForm","validateProvider","summarySections","on","close","submit","scopedSlots","_u","fn","step","provider","domains","$set","props","components","CreationForm","ProviderGeneralForm","computed","associatedDomainsSummary","result","title","items","type","name","data","formErrors","mounted","methods","initProvider","address","port","secured","new_domain","bus","msg","component","staticClass","item","selected","MenuItems","providers","headers","text","sortable","align","search","expanded","deleteProvider","id","editProvider","params","loadAssociatedDomains","getMenuItems","label","icon","onClick","color","created","ProviderCreationForm","ProvidersList"],"sourceRoot":""}