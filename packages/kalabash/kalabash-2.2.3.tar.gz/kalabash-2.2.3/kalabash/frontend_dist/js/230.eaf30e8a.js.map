{"version":3,"file":"js/230.eaf30e8a.js","mappings":"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","sources":["webpack://Kalabash/./src/components/imap_migration/MigrationsList.vue","webpack://Kalabash/./src/api/imap_migration/migrations.js","webpack://Kalabash/src/components/imap_migration/MigrationsList.vue","webpack://Kalabash/./src/components/imap_migration/MigrationsList.vue?ceec","webpack://Kalabash/./src/components/imap_migration/MigrationsList.vue?6912","webpack://Kalabash/./src/components/tools/MenuItems.vue","webpack://Kalabash/src/components/tools/MenuItems.vue","webpack://Kalabash/./src/components/tools/MenuItems.vue?c20d","webpack://Kalabash/./src/components/tools/MenuItems.vue?59fd","webpack://Kalabash/../../../src/components/VGrid/VSpacer.ts"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-card',{staticClass:\"mt-6\"},[_c('v-toolbar',{attrs:{\"flat\":\"\"}},[_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"small\":\"\"}},'v-btn',attrs,false),on),[_vm._v(\" Actions \"),_c('v-icon',{attrs:{\"right\":\"\"}},[_vm._v(\"mdi-chevron-down\")])],1)]}}])},[_c('v-list',{attrs:{\"dense\":\"\"}})],1),_c('v-spacer'),_c('v-text-field',{attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"placeholder\":\"Search\",\"filled\":\"\",\"outlined\":\"\",\"dense\":\"\",\"hide-details\":\"\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.migrations,\"search\":_vm.search,\"item-key\":\"id\",\"options\":_vm.options,\"server-items-length\":_vm.totalMigrations,\"loading\":_vm.loading,\"show-select\":\"\"},on:{\"update:options\":function($event){_vm.options=$event}},scopedSlots:_vm._u([{key:\"item.mailbox\",fn:function({ item }){return [_c('router-link',{attrs:{\"to\":{ name: 'AccountDetail', params: { id: item.mailbox.user } }}},[_vm._v(\" \"+_vm._s(item.mailbox.full_address)+\" \")])]}},{key:\"item.actions\",fn:function({ item }){return [_c('v-menu',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({ on, attrs }){return [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-horizontal\")])],1)]}}],null,true)},[_c('menu-items',{attrs:{\"items\":_vm.getMenuItems(item),\"object\":item}})],1)]}}]),model:{value:(_vm.selected),callback:function ($$v) {_vm.selected=$$v},expression:\"selected\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import repository from '@/api/repository'\n\nconst resource = 'migrations'\n\nexport default {\n  getMigrations (params) {\n    return repository.get(`/${resource}/`, { params })\n  },\n  getMigration (slug, query) {\n    return repository.get(`/${resource}/${slug}/`, query)\n  },\n  deleteMigration (slug) {\n    return repository.delete(`/${resource}/${slug}/`)\n  }\n}\n","<template>\n<v-card class=\"mt-6\">\n  <v-toolbar flat>\n    <v-menu offset-y>\n      <template v-slot:activator=\"{ on, attrs }\">\n        <v-btn v-bind=\"attrs\" v-on=\"on\" small>\n          Actions <v-icon right>mdi-chevron-down</v-icon>\n        </v-btn>\n      </template>\n      <v-list dense>\n      </v-list>\n    </v-menu>\n    <v-spacer></v-spacer>\n    <v-text-field\n      v-model=\"search\"\n      prepend-inner-icon=\"mdi-magnify\"\n      placeholder=\"Search\"\n      filled\n      outlined\n      dense\n      hide-details\n      ></v-text-field>\n  </v-toolbar>\n  <v-data-table\n    v-model=\"selected\"\n    :headers=\"headers\"\n    :items=\"migrations\"\n    :search=\"search\"\n    item-key=\"id\"\n    :options.sync=\"options\"\n    :server-items-length=\"totalMigrations\"\n    :loading=\"loading\"\n    class=\"elevation-1\"\n    show-select\n    >\n    <template v-slot:item.mailbox=\"{ item }\">\n      <router-link :to=\"{ name: 'AccountDetail', params: { id: item.mailbox.user } }\">\n          {{ item.mailbox.full_address }}\n      </router-link>\n    </template>\n    <template v-slot:item.actions=\"{ item }\">\n      <v-menu offset-y>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn icon v-bind=\"attrs\" v-on=\"on\">\n            <v-icon>mdi-dots-horizontal</v-icon>\n          </v-btn>\n        </template>\n        <menu-items :items=\"getMenuItems(item)\" :object=\"item\" />\n      </v-menu>\n    </template>\n    </v-data-table>\n</v-card>\n</template>\n\n<script>\nimport Migration from '@/api/imap_migration/migrations'\nimport MenuItems from '@/components/tools/MenuItems'\nimport { bus } from '@/main'\n\nexport default {\n  components: {\n    MenuItems\n  },\n  data () {\n    return {\n      migrations: [],\n      headers: [\n        { text: this.$gettext('Provider'), value: 'provider.name' },\n        { text: this.$gettext('Old account'), value: 'username' },\n        { text: this.$gettext('New account'), value: 'mailbox' },\n        { text: this.$gettext('Actions'), value: 'actions', sortable: false, align: 'right' }\n\n      ],\n      selected: [],\n      loading: true,\n      search: '',\n      options: {},\n      totalMigrations: 0\n    }\n  },\n  methods: {\n    deleteMigration (migration) {\n      Migration.deleteMigration(migration.id).then(response => {\n        bus.$emit('notification', { msg: this.$gettext('Migration deleted') })\n        this.migrations = this.migrations.filter(item => {\n          return item.id !== migration.id\n        })\n      })\n    },\n    getMigrations (filter) {\n      this.loading = true\n      let query = {}\n      if (filter !== undefined) {\n        query = { params: { search: filter } }\n      }\n      Migration.getMigrations(query).then(response => {\n        this.migrations = response.data\n        this.totalMigrations = this.migrations.length\n        this.loading = false\n      })\n    },\n    getMenuItems (item) {\n      const result = []\n      result.push({\n        label: this.$gettext('Delete'),\n        icon: 'mdi-delete-outline',\n        onClick: this.deleteMigration,\n        color: 'red'\n      })\n      return result\n    }\n  },\n  mounted () {\n    this.getMigrations()\n  }\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MigrationsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MigrationsList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MigrationsList.vue?vue&type=template&id=029e46a7&\"\nimport script from \"./MigrationsList.vue?vue&type=script&lang=js&\"\nexport * from \"./MigrationsList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-list',{attrs:{\"dense\":\"\"}},_vm._l((_vm.items),function(item,index){return _c('v-list-item',{key:index,on:{\"click\":function($event){return item.onClick(_vm.object)}}},[_c('v-list-item-icon',[_c('v-icon',{attrs:{\"color\":item.color}},[_vm._v(_vm._s(item.icon))])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.label))])],1)],1)}),1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<v-list dense>\n  <v-list-item v-for=\"(item, index) in items\"\n               :key=\"index\"\n               @click=\"item.onClick(object)\"\n               >\n    <v-list-item-icon>\n      <v-icon :color=\"item.color\">{{ item.icon }}</v-icon>\n    </v-list-item-icon>\n    <v-list-item-content>\n      <v-list-item-title>{{ item.label }}</v-list-item-title>\n    </v-list-item-content>\n  </v-list-item>\n</v-list>\n</template>\n\n<script>\nexport default {\n  props: ['items', 'object']\n}\n</script>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuItems.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./MenuItems.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MenuItems.vue?vue&type=template&id=304e6178&\"\nimport script from \"./MenuItems.vue?vue&type=script&lang=js&\"\nexport * from \"./MenuItems.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import './_grid.sass'\nimport { createSimpleFunctional } from '../../util/helpers'\n\nexport default createSimpleFunctional('spacer', 'div', 'v-spacer')\n"],"names":["attrs","scopedSlots","_vm","fn","_c","value","callback","expression","staticClass","on","options","_u","key","item","id","mailbox","selected","staticRenderFns","render","resource","getMigrations","params","repository","getMigration","slug","query","deleteMigration","components","MenuItems","data","migrations","headers","text","sortable","align","loading","search","totalMigrations","methods","Migration","bus","msg","getMenuItems","result","label","icon","onClick","color","mounted","component","props","createSimpleFunctional"],"sourceRoot":""}