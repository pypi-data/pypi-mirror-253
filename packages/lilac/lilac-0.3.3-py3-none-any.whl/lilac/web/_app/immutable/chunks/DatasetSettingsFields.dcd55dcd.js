import{S as Ae,i as ze,s as Le,L as ve,Q as J,R as x,m,h as c,n as b,T as De,b as D,U as h,M as Xe,V as Z,W as Pe,X as Re,q as ee,r as te,u as Te,k as E,y as ne,a as fe,l as M,z as he,c as ce,_ as K,A as re,Y as Ke,a3 as Fe,a5 as lt,g as p,d as k,B as se,a4 as rt,H as Ge,I as Mt,x as ht,v as Me,f as Ve,ai as Ii,w as at,J as vt,K as pt,e as $e,C as Ei,D as Mi,E as Vi,F as Ti,aa as Qe,o as Ql,G as Gl,a6 as Oi,Z as Vt,a9 as Xl,$ as Jl,ag as Si,a0 as qt}from"./index.31767f9c.js";import{e as Ue,a as Tt,Y as mt,bq as Ci,bg as Di,a3 as Ot,br as xl,bs as $l,ax as ei,a1 as ct,am as nt,bt as ut,bn as Pi,ag as tt,bu as ti,az as Ri,aa as dt,d as _t,a6 as Ai,m as zi,a4 as li,a5 as ii,aj as ni,bv as Li,ai as ri,bw as Yt,av as Bi,Z as Ut,b8 as Ni,aB as Lt,bx as Hi,$ as It,by as Fi,ae as ji,b7 as qi,bz as Yi,B as Kt,as as Ui,ah as Ki,aG as si,aP as ai,bA as oi,S as Zi,b as ui,T as Wi,aX as Qi,aT as Zt}from"./Commands.17f665bc.js";import{g as fi,s as Wt}from"./notificationsStore.680ffd53.js";import{M as Bt}from"./Modal.ce5be7c8.js";import{T as Gi}from"./TrashCan.1b6bee51.js";import{g as Xi}from"./settingsStore.335b2a91.js";import{C as Ji,a as xi}from"./ChevronUp.baa1201b.js";import{S as $i}from"./Search.8fb4dd52.js";import{_ as en}from"./preload-helper.a4192956.js";import{d as tn}from"./paths.ec9f6a63.js";import{c as ln,g as nn}from"./spanHighlight.fcec57e6.js";import{I as rn}from"./ItemMetadata.929fe62d.js";import{C as sn}from"./ComboBox.541f2e2d.js";function Qt(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function an(i){let e,t,l=i[1]&&Qt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ve(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=x(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Qt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function on(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class un extends Ae{constructor(e){super(),ze(this,e,on,an,Le,{size:0,title:1})}}function Gt(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function fn(i){let e,t,l=i[1]&&Gt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ve(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=x(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M24.59 16.59L17 24.17 17 4 15 4 15 24.17 7.41 16.59 6 18 16 28 26 18 24.59 16.59z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Gt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function cn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class dn extends Ae{constructor(e){super(),ze(this,e,cn,fn,Le,{size:0,title:1})}}function Xt(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function hn(i){let e,t,l=i[1]&&Xt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ve(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=x(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M16 4L6 14 7.41 15.41 15 7.83 15 28 17 28 17 7.83 24.59 15.41 26 14 16 4z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=Xt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function mn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class _n extends Ae{constructor(e){super(),ze(this,e,mn,hn,Le,{size:0,title:1})}}function Jt(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function gn(i){let e,t,l,n=i[1]&&Jt(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=ve(r,a[o]);return{c(){e=J("svg"),n&&n.c(),t=J("path"),l=J("path"),this.h()},l(o){e=x(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=m(e);n&&n.l(s),t=x(s,"path",{d:!0}),m(t).forEach(c),l=x(s,"path",{d:!0}),m(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M20 20L21.4 21.4 18.8 24 28 24 28 26 18.8 26 21.4 28.6 20 30 15 25zM14 15H22V17H14zM14 8H22V10H14z"),b(l,"d","M13,28H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18v16h2V4c0-1.1-0.9-2-2-2H8C6.9,2,6,2.9,6,4v4H4v2h2v5H4v2h2v5H4v2h2v4	c0,1.1,0.9,2,2,2h5V28z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=Jt(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Xe(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:Z,o:Z,d(o){o&&c(e),n&&n.d()}}}function bn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class vn extends Ae{constructor(e){super(),ze(this,e,bn,gn,Le,{size:0,title:1})}}function xt(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function pn(i){let e,t,l=i[1]&&xt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ve(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=x(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=xt(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function wn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class kn extends Ae{constructor(e){super(),ze(this,e,wn,pn,Le,{size:0,title:1})}}function $t(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function yn(i){let e,t,l=i[1]&&$t(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ve(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=x(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=$t(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function In(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class En extends Ae{constructor(e){super(),ze(this,e,In,yn,Le,{size:0,title:1})}}function el(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function Mn(i){let e,t,l,n,a,r,o=i[1]&&el(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],u={};for(let f=0;f<s.length;f+=1)u=ve(u,s[f]);return{c(){e=J("svg"),o&&o.c(),t=J("circle"),l=J("circle"),n=J("circle"),a=J("path"),r=J("path"),this.h()},l(f){e=x(f,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var d=m(e);o&&o.l(d),t=x(d,"circle",{cx:!0,cy:!0,r:!0}),m(t).forEach(c),l=x(d,"circle",{cx:!0,cy:!0,r:!0}),m(l).forEach(c),n=x(d,"circle",{cx:!0,cy:!0,r:!0}),m(n).forEach(c),a=x(d,"path",{d:!0}),m(a).forEach(c),r=x(d,"path",{d:!0}),m(r).forEach(c),d.forEach(c),this.h()},h(){b(t,"cx","7"),b(t,"cy","7"),b(t,"r","1"),b(l,"cx","7"),b(l,"cy","15"),b(l,"r","1"),b(n,"cx","7"),b(n,"cy","23"),b(n,"r","1"),b(a,"d","M12,26H4V20h8V18H4V12H22V4a2,2,0,0,0-2-2H4A2,2,0,0,0,2,4V26a2,2,0,0,0,2,2h8ZM4,4H20v6H4Z"),b(r,"d","M28,17v2.4131A6.996,6.996,0,1,0,22,30V28a5,5,0,1,1,4.5762-7H24v2h6V17Z"),De(e,u)},m(f,d){D(f,e,d),o&&o.m(e,null),h(e,t),h(e,l),h(e,n),h(e,a),h(e,r)},p(f,[d]){f[1]?o?o.p(f,d):(o=el(f),o.c(),o.m(e,t)):o&&(o.d(1),o=null),De(e,u=Xe(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},d&1&&{width:f[0]},d&1&&{height:f[0]},d&4&&f[2],d&8&&f[3]]))},i:Z,o:Z,d(f){f&&c(e),o&&o.d()}}}function Vn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class Tn extends Ae{constructor(e){super(),ze(this,e,Vn,Mn,Le,{size:0,title:1})}}function tl(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function On(i){let e,t,l,n,a,r,o,s=i[1]&&tl(i),u=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],f={};for(let d=0;d<u.length;d+=1)f=ve(f,u[d]);return{c(){e=J("svg"),s&&s.c(),t=J("circle"),l=J("path"),n=J("circle"),a=J("circle"),r=J("circle"),o=J("path"),this.h()},l(d){e=x(d,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var _=m(e);s&&s.l(_),t=x(_,"circle",{cx:!0,cy:!0,r:!0}),m(t).forEach(c),l=x(_,"path",{d:!0}),m(l).forEach(c),n=x(_,"circle",{cx:!0,cy:!0,r:!0}),m(n).forEach(c),a=x(_,"circle",{cx:!0,cy:!0,r:!0}),m(a).forEach(c),r=x(_,"circle",{cx:!0,cy:!0,r:!0}),m(r).forEach(c),o=x(_,"path",{d:!0}),m(o).forEach(c),_.forEach(c),this.h()},h(){b(t,"cx","22"),b(t,"cy","24"),b(t,"r","2"),b(l,"d","M29.7769,23.4785A8.64,8.64,0,0,0,22,18a8.64,8.64,0,0,0-7.7769,5.4785L14,24l.2231.5215A8.64,8.64,0,0,0,22,30a8.64,8.64,0,0,0,7.7769-5.4785L30,24ZM22,28a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,22,28Z"),b(n,"cx","8"),b(n,"cy","8"),b(n,"r","1"),b(a,"cx","8"),b(a,"cy","16"),b(a,"r","1"),b(r,"cx","8"),b(r,"cy","24"),b(r,"r","1"),b(o,"d","M5,21h7V19H5V13H21v3h2V5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2h7V27H5ZM5,5H21v6H5Z"),De(e,f)},m(d,_){D(d,e,_),s&&s.m(e,null),h(e,t),h(e,l),h(e,n),h(e,a),h(e,r),h(e,o)},p(d,[_]){d[1]?s?s.p(d,_):(s=tl(d),s.c(),s.m(e,t)):s&&(s.d(1),s=null),De(e,f=Xe(u,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},_&1&&{width:d[0]},_&1&&{height:d[0]},_&4&&d[2],_&8&&d[3]]))},i:Z,o:Z,d(d){d&&c(e),s&&s.d()}}}function Sn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class Cn extends Ae{constructor(e){super(),ze(this,e,Sn,On,Le,{size:0,title:1})}}function ll(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function Dn(i){let e,t,l,n,a=i[1]&&ll(i),r=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let s=0;s<r.length;s+=1)o=ve(o,r[s]);return{c(){e=J("svg"),a&&a.c(),t=J("circle"),l=J("path"),n=J("path"),this.h()},l(s){e=x(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var u=m(e);a&&a.l(u),t=x(u,"circle",{cx:!0,cy:!0,r:!0}),m(t).forEach(c),l=x(u,"path",{d:!0}),m(l).forEach(c),n=x(u,"path",{d:!0}),m(n).forEach(c),u.forEach(c),this.h()},h(){b(t,"cx","22"),b(t,"cy","24"),b(t,"r","2"),b(l,"d","M29.7769 23.4785A8.64 8.64 0 0022 18a8.64 8.64 0 00-7.7769 5.4785L14 24l.2231.5215A8.64 8.64 0 0022 30a8.64 8.64 0 007.7769-5.4785L30 24zM22 28a4 4 0 114-4A4.0045 4.0045 0 0122 28zM7 17H12V19H7zM7 12H19V14H7zM7 7H19V9H7z"),b(n,"d","M22,2,4,2A2.0058,2.0058,0,0,0,2,4V28a2.0058,2.0058,0,0,0,2,2h8V28H4V4H22V15h2V4A2.0058,2.0058,0,0,0,22,2Z"),De(e,o)},m(s,u){D(s,e,u),a&&a.m(e,null),h(e,t),h(e,l),h(e,n)},p(s,[u]){s[1]?a?a.p(s,u):(a=ll(s),a.c(),a.m(e,t)):a&&(a.d(1),a=null),De(e,o=Xe(r,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},u&1&&{width:s[0]},u&1&&{height:s[0]},u&4&&s[2],u&8&&s[3]]))},i:Z,o:Z,d(s){s&&c(e),a&&a.d()}}}function Pn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class Rn extends Ae{constructor(e){super(),ze(this,e,Pn,Dn,Le,{size:0,title:1})}}function il(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function An(i){let e,t,l=i[1]&&il(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ve(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=x(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M6 13L6 7.414 15 16.414 15 28 17 28 17 16.414 26 7.414 26 13 28 13 28 4 19 4 19 6 24.586 6 16 14.586 7.414 6 13 6 13 4 4 4 4 13 6 13z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=il(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function zn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class Ln extends Ae{constructor(e){super(),ze(this,e,zn,An,Le,{size:0,title:1})}}function nl(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function Bn(i){let e,t,l,n=i[1]&&nl(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=ve(r,a[o]);return{c(){e=J("svg"),n&&n.c(),t=J("path"),l=J("path"),this.h()},l(o){e=x(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=m(e);n&&n.l(s),t=x(s,"path",{d:!0}),m(t).forEach(c),l=x(s,"path",{d:!0}),m(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M25.7,9.3l-7-7C18.5,2.1,18.3,2,18,2H8C6.9,2,6,2.9,6,4v24c0,1.1,0.9,2,2,2h16c1.1,0,2-0.9,2-2V10C26,9.7,25.9,9.5,25.7,9.3	z M18,4.4l5.6,5.6H18V4.4z M24,28H8V4h8v6c0,1.1,0.9,2,2,2h6V28z"),b(l,"d","M10 22H22V24H10zM10 16H22V18H10z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=nl(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Xe(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:Z,o:Z,d(o){o&&c(e),n&&n.d()}}}function Nn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class Hn extends Ae{constructor(e){super(),ze(this,e,Nn,Bn,Le,{size:0,title:1})}}function rl(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function Fn(i){let e,t,l=i[1]&&rl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ve(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=x(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M30 16L22 24 20.6 22.6 27.2 16 20.6 9.4 22 8zM12 15H20V17H12zM2 16L10 8 11.4 9.4 4.8 16 11.4 22.6 10 24z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=rl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function jn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class qn extends Ae{constructor(e){super(),ze(this,e,jn,Fn,Le,{size:0,title:1})}}function sl(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function Yn(i){let e,t,l=i[1]&&sl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ve(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=x(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M29,5a2,2,0,0,0-2-2H5A2,2,0,0,0,3,5V27a2,2,0,0,0,2,2H27a2,2,0,0,0,2-2ZM27,5V9H5V5Zm0,22H5V23H27Zm0-6H5V17H27Zm0-6H5V11H27Z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=sl(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function Un(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class Kn extends Ae{constructor(e){super(),ze(this,e,Un,Yn,Le,{size:0,title:1})}}function al(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function Zn(i){let e,t,l,n=i[1]&&al(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<a.length;o+=1)r=ve(r,a[o]);return{c(){e=J("svg"),n&&n.c(),t=J("path"),l=J("path"),this.h()},l(o){e=x(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=m(e);n&&n.l(s),t=x(s,"path",{d:!0}),m(t).forEach(c),l=x(s,"path",{d:!0}),m(l).forEach(c),s.forEach(c),this.h()},h(){b(t,"d","M10,14a4,4,0,1,1,4-4A4.0045,4.0045,0,0,1,10,14Zm0-6a2,2,0,1,0,1.998,2.0044A2.002,2.002,0,0,0,10,8Z"),b(l,"d","M16.6436,29.4145,2.5858,15.3555A2,2,0,0,1,2,13.9414V4A2,2,0,0,1,4,2h9.9413a2,2,0,0,1,1.4142.5858L29.4144,16.6436a2.0005,2.0005,0,0,1,0,2.8285l-9.9424,9.9425a2.0008,2.0008,0,0,1-2.8285,0ZM4,4v9.9417L18.0578,28,28,18.0579,13.9416,4Z"),De(e,r)},m(o,s){D(o,e,s),n&&n.m(e,null),h(e,t),h(e,l)},p(o,[s]){o[1]?n?n.p(o,s):(n=al(o),n.c(),n.m(e,t)):n&&(n.d(1),n=null),De(e,r=Xe(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:o[0]},s&1&&{height:o[0]},s&4&&o[2],s&8&&o[3]]))},i:Z,o:Z,d(o){o&&c(e),n&&n.d()}}}function Wn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class ci extends Ae{constructor(e){super(),ze(this,e,Wn,Zn,Le,{size:0,title:1})}}function ol(i){let e,t;return{c(){e=J("title"),t=ee(i[1])},l(l){e=x(l,"title",{});var n=m(e);t=te(n,i[1]),n.forEach(c)},m(l,n){D(l,e,n),h(e,t)},p(l,n){n&2&&Te(t,l[1])},d(l){l&&c(e)}}}function Qn(i){let e,t,l=i[1]&&ol(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let r=0;r<n.length;r+=1)a=ve(a,n[r]);return{c(){e=J("svg"),l&&l.c(),t=J("path"),this.h()},l(r){e=x(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=m(e);l&&l.l(o),t=x(o,"path",{d:!0}),m(t).forEach(c),o.forEach(c),this.h()},h(){b(t,"d","M20,10H7.8149l3.5874-3.5859L10,5,4,11,10,17l1.4023-1.4146L7.8179,12H20a6,6,0,0,1,0,12H12v2h8a8,8,0,0,0,0-16Z"),De(e,a)},m(r,o){D(r,e,o),l&&l.m(e,null),h(e,t)},p(r,[o]){r[1]?l?l.p(r,o):(l=ol(r),l.c(),l.m(e,t)):l&&(l.d(1),l=null),De(e,a=Xe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:Z,o:Z,d(r){r&&c(e),l&&l.d()}}}function Gn(i,e,t){let l,n;const a=["size","title"];let r=Pe(e,a),{size:o=16}=e,{title:s=void 0}=e;return i.$$set=u=>{t(5,e=ve(ve({},e),Re(u))),t(3,r=Pe(e,a)),"size"in u&&t(0,o=u.size),"title"in u&&t(1,s=u.title)},i.$$.update=()=>{t(4,l=e["aria-label"]||e["aria-labelledby"]||s),t(2,n={"aria-hidden":l?void 0:!0,role:l?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Re(e),[o,s,n,r,l]}class di extends Ae{constructor(e){super(),ze(this,e,Gn,Qn,Le,{size:0,title:1})}}function Xn(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",a,r;return{c(){e=E("p"),t=ee("Delete "),l=E("span"),a=ee(n),r=ee(`
    rows?`),this.h()},l(s){e=M(s,"P",{});var u=m(e);t=te(u,"Delete "),l=M(u,"SPAN",{class:!0});var f=m(l);a=te(f,n),f.forEach(c),r=te(u,`
    rows?`),u.forEach(c),this.h()},h(){b(l,"class","font-mono font-bold")},m(s,u){D(s,e,u),h(e,t),h(e,l),h(l,a),h(e,r)},p(s,u){var f;u&1&&n!==(n=((f=s[0])==null?void 0:f.toLocaleString())+"")&&Te(a,n)},d(s){s&&c(e)}}}function Jn(i){let e,t,l,n,a,r,o,s,u;return l=new Gi({}),r=new Bt({props:{size:"xs",open:i[1]&&!i[4],modalHeading:"Delete rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Xn]},$$scope:{ctx:i}}}),r.$on("submit",i[13]),r.$on("click:button--secondary",i[14]),r.$on("close",i[15]),{c(){e=E("div"),t=E("button"),ne(l.$$.fragment),a=fe(),ne(r.$$.fragment),this.h()},l(f){e=M(f,"DIV",{});var d=m(e);t=M(d,"BUTTON",{class:!0});var _=m(t);he(l.$$.fragment,_),_.forEach(c),d.forEach(c),a=ce(f),he(r.$$.fragment,f),this.h()},h(){t.disabled=i[4],b(t,"class","h-8 rounded border border-gray-300 bg-white hover:border-red-500 hover:bg-transparent"),K(t,"opacity-30",i[4])},m(f,d){D(f,e,d),h(e,t),re(l,t,null),D(f,a,d),re(r,f,d),o=!0,s||(u=[Ke(t,"click",i[12]),Fe(n=Ue.call(null,e,{text:i[3]?i[2]!=null&&i[2].length===1?"Delete row":"Delete rows":"User does not have access to delete rows."}))],s=!0)},p(f,[d]){(!o||d&16)&&(t.disabled=f[4]),(!o||d&16)&&K(t,"opacity-30",f[4]),n&&lt(n.update)&&d&12&&n.update.call(null,{text:f[3]?f[2]!=null&&f[2].length===1?"Delete row":"Delete rows":"User does not have access to delete rows."});const _={};d&18&&(_.open=f[1]&&!f[4]),d&524289&&(_.$$scope={dirty:d,ctx:f}),r.$set(_)},i(f){o||(p(l.$$.fragment,f),p(r.$$.fragment,f),o=!0)},o(f){k(l.$$.fragment,f),k(r.$$.fragment,f),o=!1},d(f){f&&c(e),se(l),f&&c(a),se(r,f),s=!1,rt(u)}}}function xn(i,e,t){let l,n,a,r,o,{rowIds:s=void 0}=e,{searches:u=void 0}=e,{filters:f=void 0}=e,{numRows:d=void 0}=e,{modalOpen:_=!1}=e;const g=Tt();Ge(i,g,C=>t(11,o=C));const O=Mt(),F=mt();Ge(i,F,C=>t(16,a=C));const L=Ci();Ge(i,L,C=>t(17,r=C));function S(){r.mutate([a.namespace,a.datasetName,{row_ids:s,searches:u,filters:f}],{onSuccess:()=>{O("deleted"),t(1,_=!1),close()}})}const w=()=>{n||t(1,_=!0)},V=()=>S(),P=()=>{t(1,_=!1)},I=()=>t(1,_=!1);return i.$$set=C=>{"rowIds"in C&&t(2,s=C.rowIds),"searches"in C&&t(9,u=C.searches),"filters"in C&&t(10,f=C.filters),"numRows"in C&&t(0,d=C.numRows),"modalOpen"in C&&t(1,_=C.modalOpen)},i.$$.update=()=>{var C;i.$$.dirty&2048&&t(3,l=(C=o.data)==null?void 0:C.access.dataset.delete_rows),i.$$.dirty&5&&d==null&&s!=null&&t(0,d=s.length),i.$$.dirty&1548&&t(4,n=!l||s==null&&u==null&&f==null)},[d,_,s,l,n,g,F,L,S,u,f,o,w,V,P,I]}class $n extends Ae{constructor(e){super(),ze(this,e,xn,Jn,Le,{rowIds:2,searches:9,filters:10,numRows:0,modalOpen:1})}}function er(i,{disable:e}){if(e=e??!1,!e){const t=i.getBoundingClientRect();document.body.append(i),i.style.position="absolute",i.style.top=`${t.top}px`,i.style.left=`${t.left}px`}}function ul(i){const e=i[1].find(function(...l){return i[19](i[25],...l)});i[26]=e}const tr=i=>({item:i&33554434,inputText:i&1}),fl=i=>({item:i[26],inputText:i[0]});function cl(i){let e,t;return e=new Di({}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function dl(i){let e,t,l,n,a,r,o,s;function u(d){i[21](d)}let f={size:"sm",open:i[14],items:i[1],shouldFilterItem:i[6]?i[6]:void 0,placeholder:i[5],$$slots:{default:[nr,({item:d})=>({25:d}),({item:d})=>d?33554432:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(f.value=i[0]),t=new sn({props:f}),i[20](t),at.push(()=>vt(t,"value",u)),t.$on("select",i[16]),{c(){e=E("div"),ne(t.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0});var _=m(e);he(t.$$.fragment,_),_.forEach(c),this.h()},h(){b(e,"class","z-50 w-60"),K(e,"absolute",i[12]),K(e,"hidden",!i[14])},m(d,_){D(d,e,_),re(t,e,null),r=!0,o||(s=[Fe(n=ln.call(null,e,i[22])),Fe(a=er.call(null,e,{disable:!i[12]}))],o=!0)},p(d,_){const g={};_&16384&&(g.open=d[14]),_&2&&(g.items=d[1]),_&64&&(g.shouldFilterItem=d[6]?d[6]:void 0),_&32&&(g.placeholder=d[5]),_&42074115&&(g.$$scope={dirty:_,ctx:d}),!l&&_&1&&(l=!0,g.value=d[0],pt(()=>l=!1)),t.$set(g),n&&lt(n.update)&&_&24576&&n.update.call(null,d[22]),a&&lt(a.update)&&_&4096&&a.update.call(null,{disable:!d[12]}),(!r||_&4096)&&K(e,"absolute",d[12]),(!r||_&16384)&&K(e,"hidden",!d[14])},i(d){r||(p(t.$$.fragment,d),r=!0)},o(d){k(t.$$.fragment,d),r=!1},d(d){d&&c(e),i[20](null),se(t),o=!1,rt(s)}}}function lr(i){let e,t=i[26].text+"",l;return{c(){e=E("div"),l=ee(t),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);l=te(a,t),a.forEach(c),this.h()},h(){b(e,"class","flex justify-between gap-x-8")},m(n,a){D(n,e,a),h(e,l)},p(n,a){a&33554434&&t!==(t=n[26].text+"")&&Te(l,t)},i:Z,o:Z,d(n){n&&c(e)}}}function ir(i){let e;const t=i[18].item,l=Ei(t,i,i[23],fl);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,a){l&&l.m(n,a),e=!0},p(n,a){l&&l.p&&(!e||a&41943043)&&Mi(l,t,n,n[23],e?Ti(t,n[23],a,tr):Vi(n[23]),fl)},i(n){e||(p(l,n),e=!0)},o(n){k(l,n),e=!1},d(n){l&&l.d(n)}}}function nr(i){ul(i);let e,t,l,n;const a=[ir,lr],r=[];function o(s,u){return s[17].item?0:s[26]?1:-1}return~(e=o(i))&&(t=r[e]=a[e](i)),{c(){t&&t.c(),l=$e()},l(s){t&&t.l(s),l=$e()},m(s,u){~e&&r[e].m(s,u),D(s,l,u),n=!0},p(s,u){ul(s);let f=e;e=o(s),e===f?~e&&r[e].p(s,u):(t&&(Me(),k(r[f],1,1,()=>{r[f]=null}),Ve()),~e?(t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l)):t=null)},i(s){n||(p(t),n=!0)},o(s){k(t),n=!1},d(s){~e&&r[e].d(s),s&&c(l)}}}function rr(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,O=i[7]&&cl();var F=i[2];function L(w){return{}}F&&(a=ht(F,L()));let S=i[14]&&dl(i);return{c(){e=E("div"),t=E("div"),l=E("button"),O&&O.c(),n=fe(),a&&ne(a.$$.fragment),r=fe(),o=ee(i[3]),f=fe(),S&&S.c(),this.h()},l(w){e=M(w,"DIV",{class:!0});var V=m(e);t=M(V,"DIV",{});var P=m(t);l=M(P,"BUTTON",{class:!0});var I=m(l);O&&O.l(I),n=ce(I),a&&he(a.$$.fragment,I),r=ce(I),o=te(I,i[3]),I.forEach(c),P.forEach(c),f=ce(V),S&&S.l(V),V.forEach(c),this.h()},h(){l.disabled=i[9],b(l,"class","flex items-center gap-x-2 bg-white"),K(l,"opacity-30",i[9]),K(l,"text-red-600",i[11]),K(l,"border",i[4]),K(l,"border-gray-300",i[4]),K(l,"hidden",i[14]),b(e,"class","relative h-8")},m(w,V){D(w,e,V),h(e,t),h(t,l),O&&O.m(l,null),h(l,n),a&&re(a,l,null),h(l,r),h(l,o),h(e,f),S&&S.m(e,null),d=!0,_||(g=[Ke(l,"click",i[15]),Fe(s=Ue.call(null,l,{text:i[8]})),Fe(u=Ue.call(null,t,{text:i[9]?i[10]:""}))],_=!0)},p(w,[V]){if(w[7]?O?V&128&&p(O,1):(O=cl(),O.c(),p(O,1),O.m(l,n)):O&&(Me(),k(O,1,1,()=>{O=null}),Ve()),V&4&&F!==(F=w[2])){if(a){Me();const P=a;k(P.$$.fragment,1,0,()=>{se(P,1)}),Ve()}F?(a=ht(F,L()),ne(a.$$.fragment),p(a.$$.fragment,1),re(a,l,r)):a=null}(!d||V&8)&&Te(o,w[3]),(!d||V&512)&&(l.disabled=w[9]),s&&lt(s.update)&&V&256&&s.update.call(null,{text:w[8]}),(!d||V&512)&&K(l,"opacity-30",w[9]),(!d||V&2048)&&K(l,"text-red-600",w[11]),(!d||V&16)&&K(l,"border",w[4]),(!d||V&16)&&K(l,"border-gray-300",w[4]),(!d||V&16384)&&K(l,"hidden",w[14]),u&&lt(u.update)&&V&1536&&u.update.call(null,{text:w[9]?w[10]:""}),w[14]?S?(S.p(w,V),V&16384&&p(S,1)):(S=dl(w),S.c(),p(S,1),S.m(e,null)):S&&(Me(),k(S,1,1,()=>{S=null}),Ve())},i(w){d||(p(O),a&&p(a.$$.fragment,w),p(S),d=!0)},o(w){k(O),a&&k(a.$$.fragment,w),k(S),d=!1},d(w){w&&c(e),O&&O.d(),a&&se(a),S&&S.d(),_=!1,rt(g)}}}function sr(i,e,t){let{$$slots:l={},$$scope:n}=e;const a=Ii(l);let{items:r}=e,{buttonIcon:o}=e,{buttonText:s=""}=e,{buttonOutline:u=!1}=e,{comboBoxText:f=""}=e,{comboBoxPlaceholder:d=""}=e,{shouldFilterItem:_=void 0}=e,{isLoading:g=!1}=e,{helperText:O=""}=e,{disabled:F=!1}=e,{disabledMessage:L=""}=e,{redText:S=!1}=e,{hoist:w=!1}=e;const V=Mt();let P,I=!1;function C(){t(14,I=!0),requestAnimationFrame(()=>{P.$set({open:!0})})}function $(T){V("select",T.detail.selectedItem),P.clear(),t(14,I=!1)}const de=(T,z)=>z.id===T.id;function me(T){at[T?"unshift":"push"](()=>{P=T,t(13,P)})}function oe(T){f=T,t(0,f)}const le=()=>{P.clear(),t(14,I=!1)};return i.$$set=T=>{"items"in T&&t(1,r=T.items),"buttonIcon"in T&&t(2,o=T.buttonIcon),"buttonText"in T&&t(3,s=T.buttonText),"buttonOutline"in T&&t(4,u=T.buttonOutline),"comboBoxText"in T&&t(0,f=T.comboBoxText),"comboBoxPlaceholder"in T&&t(5,d=T.comboBoxPlaceholder),"shouldFilterItem"in T&&t(6,_=T.shouldFilterItem),"isLoading"in T&&t(7,g=T.isLoading),"helperText"in T&&t(8,O=T.helperText),"disabled"in T&&t(9,F=T.disabled),"disabledMessage"in T&&t(10,L=T.disabledMessage),"redText"in T&&t(11,S=T.redText),"hoist"in T&&t(12,w=T.hoist),"$$scope"in T&&t(23,n=T.$$scope)},[f,r,o,s,u,d,_,g,O,F,L,S,w,P,I,C,$,a,l,de,me,oe,le,n]}class Nt extends Ae{constructor(e){super(),ze(this,e,sr,rr,Le,{items:1,buttonIcon:2,buttonText:3,buttonOutline:4,comboBoxText:0,comboBoxPlaceholder:5,shouldFilterItem:6,isLoading:7,helperText:8,disabled:9,disabledMessage:10,redText:11,hoist:12})}}function ar(i){let e,t=i[38].text+"",l;return{c(){e=E("div"),l=ee(t),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);l=te(a,t),a.forEach(c),this.h()},h(){b(e,"class","flex justify-between gap-x-8")},m(n,a){D(n,e,a),h(e,l)},p(n,a){a[1]&128&&t!==(t=n[38].text+"")&&Te(l,t)},i:Z,o:Z,d(n){n&&c(e)}}}function or(i){let e,t,l,n,a,r=i[37]+"",o,s;return t=new ci({}),{c(){e=E("div"),ne(t.$$.fragment),l=fe(),n=E("div"),a=ee("New label: "),o=ee(r),this.h()},l(u){e=M(u,"DIV",{class:!0});var f=m(e);he(t.$$.fragment,f),l=ce(f),n=M(f,"DIV",{class:!0});var d=m(n);a=te(d,"New label: "),o=te(d,r),d.forEach(c),f.forEach(c),this.h()},h(){b(n,"class","ml-2"),b(e,"class","new-concept flex flex-row items-center justify-items-center")},m(u,f){D(u,e,f),re(t,e,null),h(e,l),h(e,n),h(n,a),h(n,o),s=!0},p(u,f){(!s||f[1]&64)&&r!==(r=u[37]+"")&&Te(o,r)},i(u){s||(p(t.$$.fragment,u),s=!0)},o(u){k(t.$$.fragment,u),s=!1},d(u){u&&c(e),se(t)}}}function ur(i){let e;return{c(){e=E("div")},l(t){e=M(t,"DIV",{}),m(e).forEach(c)},m(t,l){D(t,e,l)},p:Z,i:Z,o:Z,d(t){t&&c(e)}}}function fr(i){let e,t,l,n;const a=[ur,or,ar],r=[];function o(s,u){return s[38]==null?0:s[38].id==="new-label"?1:2}return t=o(i),l=r[t]=a[t](i),{c(){e=E("div"),l.c(),this.h()},l(s){e=M(s,"DIV",{slot:!0});var u=m(e);l.l(u),u.forEach(c),this.h()},h(){b(e,"slot","item")},m(s,u){D(s,e,u),r[t].m(e,null),n=!0},p(s,u){let f=t;t=o(s),t===f?r[t].p(s,u):(Me(),k(r[f],1,1,()=>{r[f]=null}),Ve(),l=r[t],l?l.p(s,u):(l=r[t]=a[t](s),l.c()),p(l,1),l.m(e,null))},i(s){n||(p(l),n=!0)},o(s){k(l),n=!1},d(s){s&&c(e),r[t].d()}}}function cr(i){var s;let e,t,l,n,a=((s=i[5])==null?void 0:s.toLocaleString())+"",r,o;return{c(){e=ee("Add label "),t=E("span"),l=ee(i[8]),n=ee(" to "),r=ee(a),o=ee(`
      rows?`),this.h()},l(u){e=te(u,"Add label "),t=M(u,"SPAN",{class:!0});var f=m(t);l=te(f,i[8]),f.forEach(c),n=te(u," to "),r=te(u,a),o=te(u,`
      rows?`),this.h()},h(){b(t,"class","font-mono font-bold")},m(u,f){D(u,e,f),D(u,t,f),h(t,l),D(u,n,f),D(u,r,f),D(u,o,f)},p(u,f){var d;f[0]&256&&Te(l,u[8]),f[0]&32&&a!==(a=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Te(r,a)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function dr(i){var s;let e,t,l,n,a=((s=i[5])==null?void 0:s.toLocaleString())+"",r,o;return{c(){e=ee("Remove label "),t=E("span"),l=ee(i[8]),n=ee(" from "),r=ee(a),o=ee(`
      rows?`),this.h()},l(u){e=te(u,"Remove label "),t=M(u,"SPAN",{class:!0});var f=m(t);l=te(f,i[8]),f.forEach(c),n=te(u," from "),r=te(u,a),o=te(u,`
      rows?`),this.h()},h(){b(t,"class","font-mono font-bold")},m(u,f){D(u,e,f),D(u,t,f),h(t,l),D(u,n,f),D(u,r,f),D(u,o,f)},p(u,f){var d;f[0]&256&&Te(l,u[8]),f[0]&32&&a!==(a=((d=u[5])==null?void 0:d.toLocaleString())+"")&&Te(r,a)},d(u){u&&c(e),u&&c(t),u&&c(n),u&&c(r),u&&c(o)}}}function hr(i){let e;function t(a,r){return a[4]?dr:cr}let l=t(i),n=l(i);return{c(){e=E("p"),n.c()},l(a){e=M(a,"P",{});var r=m(e);n.l(r),r.forEach(c)},m(a,r){D(a,e,r),n.m(e,null)},p(a,r){l===(l=t(a))&&n?n.p(a,r):(n.d(1),n=l(a),n&&(n.c(),n.m(e,null)))},d(a){a&&c(e),n.d()}}}function mr(i){let e,t,l,n,a;function r(s){i[32](s)}let o={disabled:i[9]||i[10],helperText:i[0],disabledMessage:i[7]?i[1]?i[2]:"":"You do not have access to add labels.",hoist:!1,buttonOutline:!0,buttonIcon:i[3],items:i[13],comboBoxPlaceholder:i[4]?"Select a label to remove":"Select or type a new label",shouldFilterItem:_r,$$slots:{item:[fr,({inputText:s,item:u})=>({37:s,38:u}),({inputText:s,item:u})=>[0,(s?64:0)|(u?128:0)]]},$$scope:{ctx:i}};return i[6]!==void 0&&(o.comboBoxText=i[6]),e=new Nt({props:o}),at.push(()=>vt(e,"comboBoxText",r)),e.$on("select",i[19]),n=new Bt({props:{size:"xs",open:i[8]!=null&&i[5]!=null,modalHeading:"Label",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[hr]},$$scope:{ctx:i}}}),n.$on("submit",i[18]),n.$on("click:button--secondary",i[33]),n.$on("close",function(){lt(i[8]=null)&&(i[8]=null).apply(this,arguments)}),{c(){ne(e.$$.fragment),l=fe(),ne(n.$$.fragment)},l(s){he(e.$$.fragment,s),l=ce(s),he(n.$$.fragment,s)},m(s,u){re(e,s,u),D(s,l,u),re(n,s,u),a=!0},p(s,u){i=s;const f={};u[0]&1536&&(f.disabled=i[9]||i[10]),u[0]&1&&(f.helperText=i[0]),u[0]&134&&(f.disabledMessage=i[7]?i[1]?i[2]:"":"You do not have access to add labels."),u[0]&8&&(f.buttonIcon=i[3]),u[0]&8192&&(f.items=i[13]),u[0]&16&&(f.comboBoxPlaceholder=i[4]?"Select a label to remove":"Select or type a new label"),u[1]&448&&(f.$$scope={dirty:u,ctx:i}),!t&&u[0]&64&&(t=!0,f.comboBoxText=i[6],pt(()=>t=!1)),e.$set(f);const d={};u[0]&288&&(d.open=i[8]!=null&&i[5]!=null),u[0]&304|u[1]&256&&(d.$$scope={dirty:u,ctx:i}),n.$set(d)},i(s){a||(p(e.$$.fragment,s),p(n.$$.fragment,s),a=!0)},o(s){k(e.$$.fragment,s),k(n.$$.fragment,s),a=!1},d(s){se(e,s),s&&c(l),se(n,s)}}}const _r=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-label";function gr(i,e,t){let l,n,a,r,o,s,u,f,d,_,g,O,F,L,S,w=Z,V=()=>(w(),w=Qe(O,j=>t(27,S=j)),O),P,I=Z,C=()=>(I(),I=Qe(g,j=>t(28,P=j)),g),$,de=Z,me=()=>(de(),de=Qe(l,j=>t(29,$=j)),l),oe,le;i.$$.on_destroy.push(()=>w()),i.$$.on_destroy.push(()=>I()),i.$$.on_destroy.push(()=>de());let{labelsQuery:T}=e,{hideLabels:z=void 0}=e,{helperText:q="Add label"}=e,{disabled:B=!1}=e,{disabledMessage:Y="User does not have access to add labels."}=e,{icon:G}=e,{remove:Q=!1}=e,{totalNumRows:ge=void 0}=e;const ie=Mt();let Ce="",X=null;const H=fi(),v=mt();Ge(i,v,j=>t(31,le=j));const y=Tt();Ge(i,y,j=>t(30,oe=j));function A(){if(X==null)return;const j={...T,label_name:X};function be(ae){return j.row_ids!=null?`Document id: ${j.row_ids}`:`${ae.toLocaleString()} rows updated`}Q?S.mutate([n,a,j],{onSuccess:ae=>{H.addNotification({kind:"success",title:`Removed label "${j.label_name}"`,message:be(ae)})}}):P.mutate([n,a,j],{onSuccess:ae=>{H.addNotification({kind:"success",title:`Added label "${j.label_name}"`,message:be(ae)})}}),t(8,X=null)}function W(j){t(8,X=j.detail.text),ge==null&&A()}function ke(j){Ce=j,t(6,Ce)}const Ie=()=>{t(8,X=null),ie("close")};return i.$$set=j=>{"labelsQuery"in j&&t(20,T=j.labelsQuery),"hideLabels"in j&&t(21,z=j.hideLabels),"helperText"in j&&t(0,q=j.helperText),"disabled"in j&&t(1,B=j.disabled),"disabledMessage"in j&&t(2,Y=j.disabledMessage),"icon"in j&&t(3,G=j.icon),"remove"in j&&t(4,Q=j.remove),"totalNumRows"in j&&t(5,ge=j.totalNumRows)},i.$$.update=()=>{var j,be;i.$$.dirty[1]&1&&me(t(14,l=Ot(le.namespace,le.datasetName))),i.$$.dirty[1]&1&&(n=le.namespace),i.$$.dirty[1]&1&&(a=le.datasetName),i.$$.dirty[0]&1073741824&&t(26,r=(j=oe.data)==null?void 0:j.access.dataset.create_label_type),i.$$.dirty[0]&1073741824&&t(7,o=(be=oe.data)==null?void 0:be.access.dataset.edit_labels),i.$$.dirty[0]&536870912&&t(24,s=$.data&&ei($.data)),i.$$.dirty[0]&67108928&&t(25,u=/^[A-Za-z0-9_-]+$/.test(Ce)&&r),i.$$.dirty[0]&33554496&&t(23,f={id:"new-label",text:Ce,disabled:!u}),i.$$.dirty[0]&18874368&&t(22,d=(s==null?void 0:s.filter(ae=>!(z||[]).includes(ae)).map((ae,we)=>({id:`label_${we}`,text:ae})))||[]),i.$$.dirty[0]&12582992&&t(13,_=[...Ce!=""&&!Q?[f]:[],...d]),i.$$.dirty[0]&536870912&&C(t(12,g=$.data!=null?xl($.data):null)),i.$$.dirty[0]&536870912&&V(t(11,O=$.data!=null?$l($.data):null)),i.$$.dirty[0]&402653184&&t(10,F=(P==null?void 0:P.isLoading)||(S==null?void 0:S.isLoading)),i.$$.dirty[0]&130&&t(9,L=B||!o)},[q,B,Y,G,Q,ge,Ce,o,X,L,F,O,g,_,l,ie,v,y,A,W,T,z,d,f,s,u,r,S,P,$,oe,le,ke,Ie]}class br extends Ae{constructor(e){super(),ze(this,e,gr,mr,Le,{labelsQuery:20,hideLabels:21,helperText:0,disabled:1,disabledMessage:2,icon:3,remove:4,totalNumRows:5},null,[-1,-1])}}function vr(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function hl(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function ml(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hl(Object(t),!0).forEach(function(l){vr(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):hl(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function pr(i,e){if(i==null)return{};var t={},l=Object.keys(i),n,a;for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}function wr(i,e){if(i==null)return{};var t=pr(i,e),l,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);for(n=0;n<a.length;n++)l=a[n],!(e.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(i,l)&&(t[l]=i[l])}return t}function kr(i,e){return yr(i)||Ir(i,e)||Er(i,e)||Mr()}function yr(i){if(Array.isArray(i))return i}function Ir(i,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(i)))){var t=[],l=!0,n=!1,a=void 0;try{for(var r=i[Symbol.iterator](),o;!(l=(o=r.next()).done)&&(t.push(o.value),!(e&&t.length===e));l=!0);}catch(s){n=!0,a=s}finally{try{!l&&r.return!=null&&r.return()}finally{if(n)throw a}}return t}}function Er(i,e){if(i){if(typeof i=="string")return _l(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _l(i,e)}}function _l(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,l=new Array(e);t<e;t++)l[t]=i[t];return l}function Mr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vr(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function gl(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,l)}return t}function bl(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gl(Object(t),!0).forEach(function(l){Vr(i,l,t[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):gl(Object(t)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(t,l))})}return i}function Tr(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(l){return e.reduceRight(function(n,a){return a(n)},l)}}function gt(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e.apply(t,[].concat(n,o))}}}function Et(i){return{}.toString.call(i).includes("Object")}function Or(i){return!Object.keys(i).length}function bt(i){return typeof i=="function"}function Sr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Cr(i,e){return Et(e)||st("changeType"),Object.keys(e).some(function(t){return!Sr(i,t)})&&st("changeField"),e}function Dr(i){bt(i)||st("selectorType")}function Pr(i){bt(i)||Et(i)||st("handlerType"),Et(i)&&Object.values(i).some(function(e){return!bt(e)})&&st("handlersType")}function Rr(i){i||st("initialIsRequired"),Et(i)||st("initialType"),Or(i)&&st("initialContent")}function Ar(i,e){throw new Error(i[e]||i.default)}var zr={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},st=gt(Ar)(zr),kt={changes:Cr,selector:Dr,handler:Pr,initial:Rr};function Lr(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};kt.initial(i),kt.handler(e);var t={current:i},l=gt(Hr)(t,e),n=gt(Nr)(t),a=gt(kt.changes)(i),r=gt(Br)(t);function o(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(f){return f};return kt.selector(u),u(t.current)}function s(u){Tr(l,n,a,r)(u)}return[o,s]}function Br(i,e){return bt(e)?e(i.current):e}function Nr(i,e){return i.current=bl(bl({},i.current),e),e}function Hr(i,e,t){return bt(e)?e(i.current):Object.keys(t).forEach(function(l){var n;return(n=e[l])===null||n===void 0?void 0:n.call(e,i.current[l])}),t}var Fr={create:Lr},jr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}};function qr(i){return function e(){for(var t=this,l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return n.length>=i.length?i.apply(this,n):function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return e.apply(t,[].concat(n,o))}}}function Yr(i){return{}.toString.call(i).includes("Object")}function Ur(i){return i||vl("configIsRequired"),Yr(i)||vl("configType"),i.urls?(Kr(),{paths:{vs:i.urls.monacoBase}}):i}function Kr(){console.warn(hi.deprecation)}function Zr(i,e){throw new Error(i[e]||i.default)}var hi={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},vl=qr(Zr)(hi),Wr={config:Ur},Qr=function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return function(n){return t.reduceRight(function(a,r){return r(a)},n)}};function mi(i,e){return Object.keys(e).forEach(function(t){e[t]instanceof Object&&i[t]&&Object.assign(e[t],mi(i[t],e[t]))}),ml(ml({},i),e)}var Gr={type:"cancelation",msg:"operation is manually canceled"};function Ct(i){var e=!1,t=new Promise(function(l,n){i.then(function(a){return e?n(Gr):l(a)}),i.catch(n)});return t.cancel=function(){return e=!0},t}var Xr=Fr.create({config:jr,isInitialized:!1,resolve:null,reject:null,monaco:null}),_i=kr(Xr,2),wt=_i[0],St=_i[1];function Jr(i){var e=Wr.config(i),t=e.monaco,l=wr(e,["monaco"]);St(function(n){return{config:mi(n.config,l),monaco:t}})}function xr(){var i=wt(function(e){var t=e.monaco,l=e.isInitialized,n=e.resolve;return{monaco:t,isInitialized:l,resolve:n}});if(!i.isInitialized){if(St({isInitialized:!0}),i.monaco)return i.resolve(i.monaco),Ct(Dt);if(window.monaco&&window.monaco.editor)return gi(window.monaco),i.resolve(window.monaco),Ct(Dt);Qr($r,ts)(ls)}return Ct(Dt)}function $r(i){return document.body.appendChild(i)}function es(i){var e=document.createElement("script");return i&&(e.src=i),e}function ts(i){var e=wt(function(l){var n=l.config,a=l.reject;return{config:n,reject:a}}),t=es("".concat(e.config.paths.vs,"/loader.js"));return t.onload=function(){return i()},t.onerror=e.reject,t}function ls(){var i=wt(function(t){var l=t.config,n=t.resolve,a=t.reject;return{config:l,resolve:n,reject:a}}),e=window.require;e.config(i.config),e(["vs/editor/editor.main"],function(t){gi(t),i.resolve(t)},function(t){i.reject(t)})}function gi(i){wt().monaco||St({monaco:i})}function is(){return wt(function(i){var e=i.monaco;return e})}var Dt=new Promise(function(i,e){return St({resolve:i,reject:e})}),pl={config:Jr,init:xr,__getMonacoInstance:is};const wl=360,ns=720;let yt;const bi={fontFamily:"inconsolata variable",fontSize:14,readOnly:!0,lineNumbers:"off",renderFinalNewline:"dimmed",lineDecorationsWidth:0,folding:!1,roundedSelection:!0,domReadOnly:!0,scrollBeyondLastLine:!1,wordWrap:"on",wrappingStrategy:"advanced",readOnlyMessage:{value:""},scrollbar:{verticalScrollbarSize:8,alwaysConsumeMouseWheel:!1},fixedOverflowWidgets:!0,language:"text/plain",automaticLayout:!0};async function vi(){return yt!=null||(yt=en(()=>import("./editor.main.79be0ff6.js").then(i=>i.e),["./editor.main.79be0ff6.js","./preload-helper.a4192956.js","../assets/editor.e45e964a.css"],import.meta.url).then(async i=>(pl.config({monaco:i.default}),pl.init()))),yt}function rs(i){let e,t,l,n=ct(i[2])+"",a,r,o,s=ct(i[1])+"",u,f,d,_,g,O,F,L,S,w;return g=new qn({}),{c(){e=E("div"),t=E("div"),l=E("div"),a=ee(n),r=fe(),o=E("div"),u=ee(s),f=fe(),d=E("div"),_=E("button"),ne(g.$$.fragment),O=fe(),F=E("div"),this.h()},l(V){e=M(V,"DIV",{class:!0});var P=m(e);t=M(P,"DIV",{class:!0});var I=m(t);l=M(I,"DIV",{class:!0});var C=m(l);a=te(C,n),C.forEach(c),r=ce(I),o=M(I,"DIV",{class:!0});var $=m(o);u=te($,s),$.forEach(c),f=ce(I),d=M(I,"DIV",{});var de=m(d);_=M(de,"BUTTON",{class:!0});var me=m(_);he(g.$$.fragment,me),me.forEach(c),de.forEach(c),I.forEach(c),O=ce(P),F=M(P,"DIV",{class:!0}),m(F).forEach(c),P.forEach(c),this.h()},h(){b(l,"class","ml-8 w-1/2"),b(o,"class","ml-8 w-1/2"),b(_,"class","-mr-1 mb-1 flex flex-row"),b(t,"class","flex flex-row items-center font-mono text-xs font-medium text-neutral-500"),b(F,"class","editor-container svelte-15hppq8"),b(e,"class","relative -ml-6 flex h-fit w-full flex-col gap-x-4")},m(V,P){D(V,e,P),h(e,t),h(t,l),h(l,a),h(t,r),h(t,o),h(o,u),h(t,f),h(t,d),h(d,_),re(g,_,null),h(e,O),h(e,F),i[13](F),L=!0,S||(w=[Ke(_,"click",i[12]),Fe(Ue.call(null,_,{text:"Swap comparison order"}))],S=!0)},p(V,[P]){(!L||P&4)&&n!==(n=ct(V[2])+"")&&Te(a,n),(!L||P&2)&&s!==(s=ct(V[1])+"")&&Te(u,s)},i(V){L||(p(g.$$.fragment,V),L=!0)},o(V){k(g.$$.fragment,V),L=!1},d(V){V&&c(e),se(g),i[13](null),S=!1,rt(w)}}}const kl=360,ss=720;function as(i,e,t){let l,n,a,r;const o=mt();let{row:s}=e,{colCompareState:u}=e,{textIsOverBudget:f}=e,{isExpanded:d}=e,_,g,O;function F(){var w,V;if(O!=null&&((w=O.getModel())==null?void 0:w.original)!=null&&((V=O.getModel())==null?void 0:V.modified)!=null){const P=Math.max(O.getOriginalEditor().getContentHeight(),O.getModifiedEditor().getContentHeight());t(5,f=P>kl),d||!f?t(3,_.style.height=`${Math.min(P,ss)}px`,_):t(3,_.style.height=kl+"px",_),O.layout()}}Ql(async()=>{t(8,g=await vi()),t(9,O=g.editor.createDiffEditor(_,{...bi,glyphMargin:!0,lineNumbersMinChars:3,lineNumbers:"on"})),O.onDidChangeModel(()=>{F()})}),Gl(()=>{var w,V;(w=O.getModel())==null||w.modified.dispose(),(V=O.getModel())==null||V.original.dispose(),O==null||O.dispose()});const L=()=>o.swapCompareColumn((u==null?void 0:u.column)||[]);function S(w){at[w?"unshift":"push"](()=>{_=w,t(3,_)})}return i.$$set=w=>{"row"in w&&t(6,s=w.row),"colCompareState"in w&&t(0,u=w.colCompareState),"textIsOverBudget"in w&&t(5,f=w.textIsOverBudget),"isExpanded"in w&&t(7,d=w.isExpanded)},i.$$.update=()=>{i.$$.dirty&1&&t(2,l=u.swapDirection?u.compareToColumn:u.column),i.$$.dirty&1&&t(1,n=u.swapDirection?u.column:u.compareToColumn),i.$$.dirty&68&&t(11,a=nt.value(ut(s,l)[0])),i.$$.dirty&66&&t(10,r=nt.value(ut(s,n)[0])),i.$$.dirty&192&&(d!=null||s!=null)&&F(),i.$$.dirty&3840&&O!=null&&a!=null&&r!=null&&(O.setModel({original:g.editor.createModel(a,"text/plain"),modified:g.editor.createModel(r,"text/plain")}),F())},[u,n,l,_,o,f,s,d,g,O,r,a,L,S]}class os extends Ae{constructor(e){super(),ze(this,e,as,rs,Le,{row:6,colCompareState:0,textIsOverBudget:5,isExpanded:7})}}function yl(i){let e,t,l;return t=new _t({props:{class:"ml-4 w-full ",lines:3}}),{c(){e=E("div"),ne(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);he(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","w-full")},m(n,a){D(n,e,a),re(t,e,null),l=!0},i(n){l||(p(t.$$.fragment,n),l=!0)},o(n){k(t.$$.fragment,n),l=!1},d(n){n&&c(e),se(t)}}}function us(i){let e,t,l,n,a=!i[2]&&yl();return{c(){e=E("div"),a&&a.c(),t=fe(),l=E("div"),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);a&&a.l(o),t=ce(o),l=M(o,"DIV",{class:!0}),m(l).forEach(c),o.forEach(c),this.h()},h(){b(l,"class","editor-container h-64"),K(l,"hidden",i[0]),K(l,"invisible",!i[2]),b(e,"class","relative left-16 -ml-10 flex h-fit w-full flex-col gap-x-4 pr-6")},m(r,o){D(r,e,o),a&&a.m(e,null),h(e,t),h(e,l),i[29](l),n=!0},p(r,o){r[2]?a&&(Me(),k(a,1,1,()=>{a=null}),Ve()):a?o[0]&4&&p(a,1):(a=yl(),a.c(),p(a,1),a.m(e,t)),(!n||o[0]&1)&&K(l,"hidden",r[0]),(!n||o[0]&4)&&K(l,"invisible",!r[2])},i(r){n||(p(a),n=!0)},o(r){k(a),n=!1},d(r){r&&c(e),a&&a.d(),i[29](null)}}}function Il(i){return i.length>40?i.slice(0,40)+"...":i}function Pt(i,e){return`add-to-concept-${i}-${e}`}function fs(i,e,t){let l,n,a,r,o=Z,s=()=>(o(),o=Qe(w,v=>t(28,r=v)),w),u;i.$$.on_destroy.push(()=>o());let{text:f}=e,{row:d}=e,{field:_=void 0}=e,{spanPaths:g}=e,{path:O=void 0}=e,{hidden:F}=e,{spanValueInfos:L}=e,{embeddings:S}=e,{datasetViewStore:w=void 0}=e;s();let{isExpanded:V=!1}=e,{textIsOverBudget:P=!1}=e,{viewType:I=void 0}=e,C,$=!1,de={};const me=Pi();Ge(i,me,v=>t(30,u=v));const oe=(v,y,A,W)=>{if(!y||!v)throw Error("Label could not be added, no active concept.");u.mutate([v,y,{insert:[{text:A,label:W}]}])};let le,T,z=null,q=null;function B(){if(z!=null&&z.getModel()!=null){const v=z.getContentHeight();t(6,P=v>wl),V||!P?t(3,le.style.height=`${Math.min(v,ns)}px`,le):t(3,le.style.height=wl+"px",le),z.layout()}}Ql(async()=>{le!=null&&(t(18,T=await vi()),t(19,z=T.editor.create(le,{...bi,lineNumbers:"on",glyphMargin:!1,lineNumbersMinChars:3,renderLineHighlight:"none",minimap:{enabled:!0,side:"right",scale:2}})),t(20,q=T.editor.createModel(f,"text/plain")),z.setModel(q),document.fonts.ready.then(()=>{T.editor.remeasureFonts(),t(2,$=!0)}))});function Y(v){if(q==null)return[];const y=v.namedValue,A=y.info.name;if(v.isConceptSearch){const W=y.info.signal,ke=window.location.origin+zi(W.namespace,W.concept_name),Ie=y.value.toFixed(2);return[{value:`**concept** <a href="${ke}">${A}</a> (${Ie})`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isSemanticSearch){const W=y.info.signal,ke=y.value.toFixed(2);return[{value:`**more like this** *${Il(W.query)}*`,supportHtml:!0,isTrusted:!0},{value:`similarity: ${ke}`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isKeywordSearch){const W=y.info.signal;return[{value:`**keyword search** *${Il(W.query)}*`,supportHtml:!0,isTrusted:!0},{value:v.text,supportHtml:!1,isTrusted:!1}]}else if(v.isLeafSpan)return[{value:`**span** *${dt(y.info.path)}*`,supportHtml:!0,isTrusted:!0},...y.value!=null?[{value:`value: *${y.value}*`,supportHtml:!1,isTrusted:!1}]:[],{value:v.text,supportHtml:!1,isTrusted:!1}];return[]}function G(){if(z==null)return null;const v=z.getSelection();return v==null?null:q.getValueInRange(v)}let Q={};const ge=w!=null?tn(w,v=>{if(v.selection==null)return null;const[y,A]=v.selection;return tt(y,O)?A:null}):null;Ge(i,ge,v=>t(27,a=v));let ie=[],Ce=[],X=[];Gl(()=>{q==null||q.dispose(),z==null||z.dispose()});function H(v){at[v?"unshift":"push"](()=>{le=v,t(3,le)})}return i.$$set=v=>{"text"in v&&t(7,f=v.text),"row"in v&&t(8,d=v.row),"field"in v&&t(9,_=v.field),"spanPaths"in v&&t(10,g=v.spanPaths),"path"in v&&t(11,O=v.path),"hidden"in v&&t(0,F=v.hidden),"spanValueInfos"in v&&t(12,L=v.spanValueInfos),"embeddings"in v&&t(13,S=v.embeddings),"datasetViewStore"in v&&s(t(1,w=v.datasetViewStore)),"isExpanded"in v&&t(14,V=v.isExpanded),"textIsOverBudget"in v&&t(6,P=v.textIsOverBudget),"viewType"in v&&t(15,I=v.viewType)},i.$$.update=()=>{if(i.$$.dirty[0]&3328&&(t(16,C={}),g.forEach(v=>{let y=ut(d,v);ti(v,O)&&(y=y.filter(W=>Ri(nt.path(W),O)||O==null)),t(16,C[dt(v)]=y,C)})),i.$$.dirty[0]&135168){t(17,de={});for(const v of L){const y=dt(v.spanPath);de[y]==null&&t(17,de[y]=[],de),de[y].push(v)}}if(i.$$.dirty[0]&16640&&(V!=null||d!=null)&&B(),i.$$.dirty[0]&1048704&&q!=null&&f!=null&&(q.setValue(f),B()),i.$$.dirty[0]&196736&&t(25,l=nn(f,C,de)),i.$$.dirty[0]&35127296&&q!=null&&z!=null){let v=null;for(const y of l){const A=nt.span(y.span),W=q.getPositionAt(A.start);(v==null||W.lineNumber<v.lineNumber)&&(v=W)}v!=null&&z.revealPositionNearTop(v)}if(i.$$.dirty[0]&268435456&&t(26,n=r!=null?Ai(r,null):null),i.$$.dirty[0]&69730304&&z!=null){for(const v of Object.values(Q))v.set(!1);for(const v of n||[]){if(v.type!="concept")continue;const y=Pt(v.concept_namespace,v.concept_name);if(Q[y]==null){const A=z.createContextKey(y,!0);t(21,Q[y]=A,Q)}else Q[y].set(!0)}}if(i.$$.dirty[0]&67633152&&z!=null&&n!=null){for(const v of n)if(v.type=="concept"){const y=`add-positive-to-concept-${v.concept_name}`;if(z.getAction(y)!=null)continue;z.addAction({id:y,label:`👍 add as positive to concept "${v.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:Pt(v.concept_namespace,v.concept_name),run:()=>{const A=G();if(A==null)return;const W=!0;oe(v.concept_namespace,v.concept_name,A,W)}}),z.addAction({id:"add-negative-to-concept",label:`👎 add as negative to concept "${v.concept_name}"`,contextMenuGroupId:"navigation_concepts",precondition:Pt(v.concept_namespace,v.concept_name),run:()=>{const A=G();if(A==null)return;const W=!1;oe(v.concept_namespace,v.concept_name,A,W)}})}}if(i.$$.dirty[0]&532994&&z!=null&&S!=null){for(const y of S){const A=`find-similar-${y}`;z.getAction(A)==null&&z.addAction({id:A,label:"🔍 More like this"+(S.length>1?` with ${y}`:""),contextMenuGroupId:"navigation_searches",run:()=>{if(w==null||_==null)return;const W=G();W!=null&&w.addSearch({path:_.path,type:"semantic",query_type:"document",query:W,embedding:y})}})}const v="keyword-search";z.getAction(v)==null&&z.addAction({id:v,label:"🔍 Keyword search",contextMenuGroupId:"navigation_searches",run:()=>{if(w==null||_==null)return;const y=G();y!=null&&w.addSearch({path:_.path,type:"keyword",query:y})}})}if(i.$$.dirty[0]&35389440&&z!=null&&q!=null&&t(22,ie=l.flatMap(v=>{if(q==null)return[];const y=nt.span(v.span),A=q.getPositionAt(y.start),W=q.getPositionAt(y.end);if(A==null||W==null)return[];const ke=[],Ie=Y(v),j=new T.Range(A.lineNumber,A.column,W.lineNumber,W.column);let be="";if(v.isConceptSearch||v.isSemanticSearch){const ae=v.value;ae<.55?be="bg-blue-50":ae<.6?be="bg-blue-100":ae<.7?be="bg-blue-200":ae<.8?be="bg-blue-300":ae<.9?be="bg-blue-400":be="bg-blue-500"}return v.isKeywordSearch?ke.push({range:j,options:{className:"keyword-search-bg",inlineClassName:"keyword-search-text",hoverMessage:Ie,glyphMarginClassName:"keyword-search-glyph",glyphMarginHoverMessage:Ie,isWholeLine:!1,minimap:{position:T.editor.MinimapPosition.Inline,color:"#888888"}}}):v.isConceptSearch?ke.push({range:j,options:{className:"concept-search-bg "+be,inlineClassName:"concept-search-text",hoverMessage:Ie,glyphMarginClassName:"concept-search-bg",glyphMarginHoverMessage:Ie,isWholeLine:!1,minimap:{position:T.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):v.isSemanticSearch?ke.push({range:j,options:{className:"semantic-search-bg "+be,inlineClassName:"semantic-search-text",hoverMessage:Ie,glyphMarginClassName:"semantic-search-bg",glyphMarginHoverMessage:Ie,isWholeLine:!1,minimap:{position:T.editor.MinimapPosition.Inline,color:"#dbeafe"}}}):v.isMetadata&&ke.push({range:j,options:{className:"leaf-bg",inlineClassName:"leaf-text",hoverMessage:Ie,glyphMarginClassName:"leaf-glyph",glyphMarginHoverMessage:Ie,isWholeLine:!1,minimap:{position:T.editor.MinimapPosition.Inline,color:"#888888"}}}),ke})),i.$$.dirty[0]&144441344&&z!=null&&q!=null&&ge!=null&&a!=null&&(t(23,Ce=[]),a.startLine==a.endLine&&a.startCol==a.endCol?Ce.push({range:new T.Range(a.startLine,a.startCol,a.endLine,a.endCol||q.getLineMaxColumn(a.startLine)),options:{isWholeLine:!0,className:"line-selection-bg",glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"🔗 From the URL"}}}):Ce.push({range:new T.Range(a.startLine,a.startCol,a.endLine,a.endCol),options:{className:"line-col-selection-bg",hoverMessage:[{value:"🔗 From the URL"}],glyphMarginClassName:"line-selection-glyph",glyphMarginHoverMessage:{value:"🔗 From the URL"},minimap:{position:T.editor.MinimapPosition.Inline,color:"#cccccc"}}}),z.revealLineInCenter(a.startLine)),i.$$.dirty[0]&1870338&&q!=null&&z!=null&&I!=null&&O!=null){const v="link-selection";z.getAction(v)==null&&z.addAction({id:v,label:"🔗 Link to selection",contextMenuGroupId:"navigation_links",keybindings:[T.KeyMod.CtrlCmd|T.KeyCode.KeyK],run:()=>{if(w==null||O==null||_==null||z==null)return;const y=z.getSelection();y!=null&&(w.setTextSelection(O,{startLine:y.startLineNumber,endLine:y.endLineNumber,startCol:y.startColumn,endCol:y.endColumn}),z.setSelection(y))}})}i.$$.dirty[0]&134217728&&a==null&&t(23,Ce=[]),i.$$.dirty[0]&29884416&&z!=null&&t(24,X=z.deltaDecorations(X,[...ie,...Ce]))},[F,w,$,le,me,ge,P,f,d,_,g,O,L,S,V,I,C,de,T,z,q,Q,ie,Ce,X,l,n,a,r,H]}class cs extends Ae{constructor(e){super(),ze(this,e,fs,us,Le,{text:7,row:8,field:9,spanPaths:10,path:11,hidden:0,spanValueInfos:12,embeddings:13,datasetViewStore:1,isExpanded:14,textIsOverBudget:6,viewType:15},null,[-1,-1])}}function El(i,e,t){const l=i.slice();l[53]=e[t],l[58]=t;const n=[...l[3]||[],l[53]];l[54]=n;const a=l[27](l[54]);l[55]=a;const r=l[3]&&l[3].length>1?"border-neutral-200":"border-neutral-300";return l[56]=r,l}function ds(i){let e,t,l,n=!i[23]&&i[10]&&Ml(i),a=i[5],r=[];for(let s=0;s<a.length;s+=1)r[s]=Vl(El(i,a,s));const o=s=>k(r[s],1,1,()=>{r[s]=null});return{c(){e=E("div"),n&&n.c(),t=fe();for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);n&&n.l(u),t=ce(u);for(let f=0;f<r.length;f+=1)r[f].l(u);u.forEach(c),this.h()},h(){b(e,"class","flex flex-col")},m(s,u){D(s,e,u),n&&n.m(e,null),h(e,t);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);l=!0},p(s,u){if(!s[23]&&s[10]?n?n.p(s,u):(n=Ml(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),u[0]&142607407){a=s[5];let f;for(f=0;f<a.length;f+=1){const d=El(s,a,f);r[f]?(r[f].p(d,u),p(r[f],1)):(r[f]=Vl(d),r[f].c(),p(r[f],1),r[f].m(e,null))}for(Me(),f=a.length;f<r.length;f+=1)o(f);Ve()}},i(s){if(!l){for(let u=0;u<a.length;u+=1)p(r[u]);l=!0}},o(s){r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)k(r[u]);l=!1},d(s){s&&c(e),n&&n.d(),Vt(r,s)}}}function hs(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,O,F,L,S,w,V,P,I,C,$,de,me,oe,le,T,z,q,B,Y,G,Q,ge,ie,Ce,X,H=i[10]!=""&&i[19]==null&&Tl(i);s=new $i({props:{size:16}});const v=[_s,ms],y=[];function A(U,pe){return U[14]?0:1}_=A(i),g=y[_]=v[_](i);const W=[bs,gs],ke=[];function Ie(U,pe){return U[13]?1:0}S=Ie(i),w=ke[S]=W[S](i);const j=[ps,vs],be=[];function ae(U,pe){return U[9].showMetadataPanel?0:1}I=ae(i),C=be[I]=j[I](i);const we=[ks,ws],ye=[];function Se(U,pe){return U[12]?0:1}oe=Se(i),le=ye[oe]=we[oe](i);let _e=i[19]!=null&&Ol(i);const Je=[Ms,Es,Is,ys],N=[];function ue(U,pe){return U[4]?0:U[22]==null||U[0]==null?1:U[13]==null&&U[16]!=null&&U[8]!=null?2:U[13]!=null?3:-1}return~(Q=ue(i))&&(ge=N[Q]=Je[Q](i)),{c(){e=E("div"),t=E("div"),l=E("div"),H&&H.c(),n=fe(),a=E("div"),r=E("div"),o=E("button"),ne(s.$$.fragment),f=fe(),d=E("button"),g.c(),L=fe(),w.c(),V=fe(),P=E("button"),C.c(),de=fe(),me=E("button"),le.c(),q=fe(),B=E("div"),_e&&_e.c(),Y=fe(),G=E("div"),ge&&ge.c(),this.h()},l(U){e=M(U,"DIV",{class:!0});var pe=m(e);t=M(pe,"DIV",{class:!0});var qe=m(t);l=M(qe,"DIV",{class:!0});var He=m(l);H&&H.l(He),n=ce(He),a=M(He,"DIV",{class:!0});var Ee=m(a);r=M(Ee,"DIV",{});var Ze=m(r);o=M(Ze,"BUTTON",{});var Ye=m(o);he(s.$$.fragment,Ye),Ye.forEach(c),Ze.forEach(c),f=ce(Ee),d=M(Ee,"BUTTON",{});var et=m(d);g.l(et),et.forEach(c),L=ce(Ee),w.l(Ee),V=ce(Ee),P=M(Ee,"BUTTON",{});var R=m(P);C.l(R),R.forEach(c),de=ce(Ee),me=M(Ee,"BUTTON",{});var Oe=m(me);le.l(Oe),Oe.forEach(c),Ee.forEach(c),He.forEach(c),qe.forEach(c),q=ce(pe),B=M(pe,"DIV",{class:!0});var Be=m(B);_e&&_e.l(Be),Y=ce(Be),G=M(Be,"DIV",{class:!0});var We=m(G);ge&&ge.l(We),We.forEach(c),Be.forEach(c),pe.forEach(c),this.h()},h(){o.disabled=i[17],K(r,"opacity-50",i[17]),d.disabled=O=i[13]!=null,K(d,"opacity-50",i[13]!=null),me.disabled=T=!i[11],K(me,"opacity-50",!i[11]),b(a,"class","flex flex-row gap-x-1"),b(l,"class","z-100 sticky top-16 flex w-full flex-col gap-y-2 self-start"),b(t,"class","relative mr-4 flex w-28 flex-row rounded border-neutral-200 px-2 font-mono font-medium text-neutral-500 md:w-36"),b(G,"class","grow pt-1"),b(B,"class","flex grow flex-col font-normal"),b(e,"class","flex w-full flex-row gap-x-4"),K(e,"border",i[23])},m(U,pe){D(U,e,pe),h(e,t),h(t,l),H&&H.m(l,null),h(l,n),h(l,a),h(a,r),h(r,o),re(s,o,null),h(a,f),h(a,d),y[_].m(d,null),h(a,L),ke[S].m(a,null),h(a,V),h(a,P),be[I].m(P,null),h(a,de),h(a,me),ye[oe].m(me,null),h(e,q),h(e,B),_e&&_e.m(B,null),h(B,Y),h(B,G),~Q&&N[Q].m(G,null),ie=!0,Ce||(X=[Ke(o,"click",i[44]),Fe(Ue.call(null,o,{text:"More like this"})),Fe(u=Ue.call(null,r,{text:i[17]?'"More like this" requires an embedding index':void 0})),Ke(d,"click",i[45]),Fe(F=Ue.call(null,d,{text:i[14]?"Back to text":"Preview markdown"})),Ke(P,"click",i[47]),Fe($=Ue.call(null,P,{text:i[9].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"})),Ke(me,"click",i[48]),Fe(z=Ue.call(null,me,{text:i[12]?"Collapse text":"Expand text"}))],Ce=!0)},p(U,pe){U[10]!=""&&U[19]==null?H?H.p(U,pe):(H=Tl(U),H.c(),H.m(l,n)):H&&(H.d(1),H=null),(!ie||pe[0]&131072)&&(o.disabled=U[17]),u&&lt(u.update)&&pe[0]&131072&&u.update.call(null,{text:U[17]?'"More like this" requires an embedding index':void 0}),(!ie||pe[0]&131072)&&K(r,"opacity-50",U[17]);let qe=_;_=A(U),_!==qe&&(Me(),k(y[qe],1,1,()=>{y[qe]=null}),Ve(),g=y[_],g||(g=y[_]=v[_](U),g.c()),p(g,1),g.m(d,null)),(!ie||pe[0]&8192&&O!==(O=U[13]!=null))&&(d.disabled=O),F&&lt(F.update)&&pe[0]&16384&&F.update.call(null,{text:U[14]?"Back to text":"Preview markdown"}),(!ie||pe[0]&8192)&&K(d,"opacity-50",U[13]!=null);let He=S;S=Ie(U),S===He?ke[S].p(U,pe):(Me(),k(ke[He],1,1,()=>{ke[He]=null}),Ve(),w=ke[S],w?w.p(U,pe):(w=ke[S]=W[S](U),w.c()),p(w,1),w.m(a,V));let Ee=I;I=ae(U),I!==Ee&&(Me(),k(be[Ee],1,1,()=>{be[Ee]=null}),Ve(),C=be[I],C||(C=be[I]=j[I](U),C.c()),p(C,1),C.m(P,null)),$&&lt($.update)&&pe[0]&512&&$.update.call(null,{text:U[9].showMetadataPanel?"Collapse metadata panel":"Expand metadata panel"});let Ze=oe;oe=Se(U),oe!==Ze&&(Me(),k(ye[Ze],1,1,()=>{ye[Ze]=null}),Ve(),le=ye[oe],le||(le=ye[oe]=we[oe](U),le.c()),p(le,1),le.m(me,null)),(!ie||pe[0]&2048&&T!==(T=!U[11]))&&(me.disabled=T),z&&lt(z.update)&&pe[0]&4096&&z.update.call(null,{text:U[12]?"Collapse text":"Expand text"}),(!ie||pe[0]&2048)&&K(me,"opacity-50",!U[11]),U[19]!=null?_e?_e.p(U,pe):(_e=Ol(U),_e.c(),_e.m(B,Y)):_e&&(_e.d(1),_e=null);let Ye=Q;Q=ue(U),Q===Ye?~Q&&N[Q].p(U,pe):(ge&&(Me(),k(N[Ye],1,1,()=>{N[Ye]=null}),Ve()),~Q?(ge=N[Q],ge?ge.p(U,pe):(ge=N[Q]=Je[Q](U),ge.c()),p(ge,1),ge.m(G,null)):ge=null),(!ie||pe[0]&8388608)&&K(e,"border",U[23])},i(U){ie||(p(s.$$.fragment,U),p(g),p(w),p(C),p(le),p(ge),ie=!0)},o(U){k(s.$$.fragment,U),k(g),k(w),k(C),k(le),k(ge),ie=!1},d(U){U&&c(e),H&&H.d(),se(s),y[_].d(),ke[S].d(),be[I].d(),ye[oe].d(),_e&&_e.d(),~Q&&N[Q].d(),Ce=!1,rt(X)}}}function Ml(i){let e,t;return{c(){e=E("div"),t=ee(i[10]),this.h()},l(l){e=M(l,"DIV",{title:!0,class:!0});var n=m(e);t=te(n,i[10]),n.forEach(c),this.h()},h(){b(e,"title",i[10]),b(e,"class","mx-4 my-2 truncate font-mono font-medium text-neutral-500")},m(l,n){D(l,e,n),h(e,t)},p(l,n){n[0]&1024&&Te(t,l[10]),n[0]&1024&&b(e,"title",l[10])},d(l){l&&c(e)}}}function Vl(i){let e,t,l,n,a;return t=new pi({props:{rootPath:[...i[3]||[],i[53]],mediaFields:i[2],row:i[0],highlightedFields:i[1]}}),{c(){e=E("div"),ne(t.$$.fragment),l=fe(),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);he(t.$$.fragment,o),l=ce(o),o.forEach(c),this.h()},h(){b(e,"class",n=i[56]),K(e,"mx-4",!i[23]&&i[10]),K(e,"py-1",!i[55]),K(e,"m-2",!i[55]),K(e,"border-b",i[58]<i[5].length-1)},m(r,o){D(r,e,o),re(t,e,null),h(e,l),a=!0},p(r,o){const s={};o[0]&40&&(s.rootPath=[...r[3]||[],r[53]]),o[0]&4&&(s.mediaFields=r[2]),o[0]&1&&(s.row=r[0]),o[0]&2&&(s.highlightedFields=r[1]),t.$set(s),(!a||o[0]&8&&n!==(n=r[56]))&&b(e,"class",n),(!a||o[0]&8389640)&&K(e,"mx-4",!r[23]&&r[10]),(!a||o[0]&134217768)&&K(e,"py-1",!r[55]),(!a||o[0]&134217768)&&K(e,"m-2",!r[55]),(!a||o[0]&40)&&K(e,"border-b",r[58]<r[5].length-1)},i(r){a||(p(t.$$.fragment,r),a=!0)},o(r){k(t.$$.fragment,r),a=!1},d(r){r&&c(e),se(t)}}}function Tl(i){let e,t;return{c(){e=E("div"),t=ee(i[10]),this.h()},l(l){e=M(l,"DIV",{title:!0,class:!0});var n=m(e);t=te(n,i[10]),n.forEach(c),this.h()},h(){b(e,"title",i[10]),b(e,"class","m-2 w-full flex-initial truncate")},m(l,n){D(l,e,n),h(e,t)},p(l,n){n[0]&1024&&Te(t,l[10]),n[0]&1024&&b(e,"title",l[10])},d(l){l&&c(e)}}}function ms(i){let e,t;return e=new Rn({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function _s(i){let e,t;return e=new vn({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function gs(i){let e,t,l,n,a;return t=new di({props:{size:16}}),{c(){e=E("button"),ne(t.$$.fragment)},l(r){e=M(r,"BUTTON",{});var o=m(e);he(t.$$.fragment,o),o.forEach(c)},m(r,o){D(r,e,o),re(t,e,null),l=!0,n||(a=[Ke(e,"click",i[46]),Fe(Ue.call(null,e,{text:"Remove comparison"}))],n=!0)},p:Z,i(r){l||(p(t.$$.fragment,r),l=!0)},o(r){k(t.$$.fragment,r),l=!1},d(r){r&&c(e),se(t),n=!1,rt(a)}}}function bs(i){let e,t;return e=new Nt({props:{disabled:i[18].length===0,helperText:"Compare to",items:i[18],buttonIcon:Ln,hoist:!0}}),e.$on("select",i[30]),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p(l,n){const a={};n[0]&262144&&(a.disabled=l[18].length===0),n[0]&262144&&(a.items=l[18]),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function vs(i){let e,t;return e=new Cn({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function ps(i){let e,t;return e=new Tn({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function ws(i){let e,t;return e=new Ji({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function ks(i){let e,t;return e=new xi({props:{size:16}}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Ol(i){let e,t;return{c(){e=E("div"),t=ee(i[19]),this.h()},l(l){e=M(l,"DIV",{class:!0});var n=m(e);t=te(n,i[19]),n.forEach(c),this.h()},h(){b(e,"class","mb-1 ml-11 rounded bg-gray-100 p-1 px-2 text-xs font-bold uppercase text-gray-700")},m(l,n){D(l,e,n),h(e,t)},p(l,n){n[0]&524288&&Te(t,l[19])},d(l){l&&c(e)}}}function ys(i){let e,t,l;function n(r){i[50](r)}let a={row:i[0],colCompareState:i[13],isExpanded:i[12]};return i[11]!==void 0&&(a.textIsOverBudget=i[11]),e=new os({props:a}),at.push(()=>vt(e,"textIsOverBudget",n)),{c(){ne(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,o){re(e,r,o),l=!0},p(r,o){const s={};o[0]&1&&(s.row=r[0]),o[0]&8192&&(s.colCompareState=r[13]),o[0]&4096&&(s.isExpanded=r[12]),!t&&o[0]&2048&&(t=!0,s.textIsOverBudget=r[11],pt(()=>t=!1)),e.$set(s)},i(r){l||(p(e.$$.fragment,r),l=!0)},o(r){k(e.$$.fragment,r),l=!1},d(r){se(e,r)}}}function Is(i){let e,t,l,n,a,r,o;function s(f){i[49](f)}let u={hidden:i[14],text:i[22],row:i[0],path:i[3],field:i[8],isExpanded:i[12],spanPaths:i[16].spanPaths,spanValueInfos:i[16].spanValueInfos,datasetViewStore:i[28],embeddings:i[7],viewType:i[15]};return i[11]!==void 0&&(u.textIsOverBudget=i[11]),e=new cs({props:u}),at.push(()=>vt(e,"textIsOverBudget",s)),r=new Hi({props:{source:It(i[22])}}),{c(){ne(e.$$.fragment),l=fe(),n=E("div"),a=E("div"),ne(r.$$.fragment),this.h()},l(f){he(e.$$.fragment,f),l=ce(f),n=M(f,"DIV",{class:!0});var d=m(n);a=M(d,"DIV",{class:!0});var _=m(a);he(r.$$.fragment,_),_.forEach(c),d.forEach(c),this.h()},h(){b(a,"class","markdown -ml-0.5 w-fit pl-14"),b(n,"class","markdown w-full"),K(n,"hidden",!i[14])},m(f,d){re(e,f,d),D(f,l,d),D(f,n,d),h(n,a),re(r,a,null),o=!0},p(f,d){const _={};d[0]&16384&&(_.hidden=f[14]),d[0]&4194304&&(_.text=f[22]),d[0]&1&&(_.row=f[0]),d[0]&8&&(_.path=f[3]),d[0]&256&&(_.field=f[8]),d[0]&4096&&(_.isExpanded=f[12]),d[0]&65536&&(_.spanPaths=f[16].spanPaths),d[0]&65536&&(_.spanValueInfos=f[16].spanValueInfos),d[0]&128&&(_.embeddings=f[7]),d[0]&32768&&(_.viewType=f[15]),!t&&d[0]&2048&&(t=!0,_.textIsOverBudget=f[11],pt(()=>t=!1)),e.$set(_);const g={};d[0]&4194304&&(g.source=It(f[22])),r.$set(g),(!o||d[0]&16384)&&K(n,"hidden",!f[14])},i(f){o||(p(e.$$.fragment,f),p(r.$$.fragment,f),o=!0)},o(f){k(e.$$.fragment,f),k(r.$$.fragment,f),o=!1},d(f){se(e,f),f&&c(l),f&&c(n),se(r)}}}function Es(i){let e,t;return{c(){e=E("span"),t=ee("null"),this.h()},l(l){e=M(l,"SPAN",{class:!0});var n=m(e);t=te(n,"null"),n.forEach(c),this.h()},h(){b(e,"class","ml-12 italic")},m(l,n){D(l,e,n),h(e,t)},p:Z,i:Z,o:Z,d(l){l&&c(e)}}}function Ms(i){let e,t;return e=new _t({props:{class:"!w-80"}}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p:Z,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Vs(i){let e,t,l,n;const a=[hs,ds],r=[];function o(s,u){return s[26]?0:1}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=$e()},l(s){t.l(s),l=$e()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Me(),k(r[f],1,1,()=>{r[f]=null}),Ve(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l))},i(s){n||(p(t),n=!0)},o(s){k(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function Ts(i,e,t){let l,n,a,r,o,s,u,f,d,_,g,O,F,L,S,w,V,P,I,C,$,de,me,oe=Z,le=()=>(oe(),oe=Qe(f,R=>t(40,me=R)),f),T,z,q,B=Z,Y=()=>(B(),B=Qe(a,R=>t(41,q=R)),a),G,Q=Z,ge=()=>(Q(),Q=Qe(d,R=>t(42,G=R)),d),ie,Ce=Z,X=()=>(Ce(),Ce=Qe(n,R=>t(43,ie=R)),n);i.$$.on_destroy.push(()=>oe()),i.$$.on_destroy.push(()=>B()),i.$$.on_destroy.push(()=>Q()),i.$$.on_destroy.push(()=>Ce());let{row:H=void 0}=e,{highlightedFields:v}=e,{mediaFields:y}=e,{rootPath:A=void 0}=e,{isFetching:W=void 0}=e,ke;function Ie(R){var Oe;return q.data!=null&&R!=null?((Oe=Ut(q.data.schema,R))==null?void 0:Oe.repeated_field)!=null:!1}let j,be=!1,ae=!1,we;const ye=mt();Ge(i,ye,R=>t(9,T=R));const Se=Xi();Ge(i,Se,R=>t(51,z=R));function _e(R){return R.map((Oe,Be)=>Oe===Lt?A[Be]:Oe)}function Je(R){ye.addCompareColumn([A,R.detail.id])}function N(R){var We;if(A==null)return;let Oe=w[0];if(((We=me.data)==null?void 0:We.preferred_embedding)!=null){const je=me.data.preferred_embedding;w.some(it=>it===je)&&(Oe=je)}if(z.embedding!=null){const je=z.embedding;w.some(it=>it===je)&&(Oe=je)}const Be=y.find(je=>Yt(je.path,A));Be!=null&&ye.addSearch({path:Be==null?void 0:Be.path,type:"semantic",query:R,query_type:"document",embedding:Oe})}let ue=null;function U(){A!=null&&ye.removeCompareColumn(A)}const pe=()=>N(u),qe=()=>t(6,we=!de),He=()=>U(),Ee=()=>Oi(ye,T.showMetadataPanel=!T.showMetadataPanel,T),Ze=()=>t(12,ae=!ae);function Ye(R){be=R,t(11,be)}function et(R){be=R,t(11,be)}return i.$$set=R=>{"row"in R&&t(0,H=R.row),"highlightedFields"in R&&t(1,v=R.highlightedFields),"mediaFields"in R&&t(2,y=R.mediaFields),"rootPath"in R&&t(3,A=R.rootPath),"isFetching"in R&&t(4,W=R.isFetching)},i.$$.update=()=>{var R,Oe,Be,We,je,it,ot,ft,Ht;if(i.$$.dirty[0]&13){const Ne=new Set;if(A==null)for(const xe of y){const Ft=xe.path[0];Ne.add(Ft)}else for(const xe of y){if(!ti(xe.path,A)||xe.path[A.length]==null)continue;const wi=[...A,xe.path[A.length]],ki=ut(H,wi);for(const yi of ki){const jt=nt.path(yi)[A.length];jt!=null&&Ne.add(jt)}}t(5,ke=Array.from(Ne))}if(i.$$.dirty[0]&32&&t(26,l=ke.length===0),i.$$.dirty[0]&512&&X(t(25,n=Ot(T.namespace,T.datasetName))),i.$$.dirty[0]&512|i.$$.dirty[1]&4096&&Y(t(24,a=li(T.namespace,T.datasetName,ii(T,ie.data)))),i.$$.dirty[0]&8&&t(39,r=Ie(A==null?void 0:A.slice(0,-1))),i.$$.dirty[0]&8&&t(23,o=Ie(A)),i.$$.dirty[0]&8|i.$$.dirty[1]&256&&(A!=null?r?t(10,j=ct(A.slice(-2))):t(10,j=A[A.length-1]):t(10,j="")),i.$$.dirty[0]&9&&t(38,s=H!=null?ut(H,A):[]),i.$$.dirty[1]&128&&t(22,u=nt.value(s[0])),i.$$.dirty[0]&512&&le(t(21,f=ni(T.namespace,T.datasetName))),i.$$.dirty[0]&512&&ge(t(20,d=Li(T.namespace,T.datasetName))),i.$$.dirty[1]&2048&&t(37,_=(Oe=(R=G.data)==null?void 0:R.dataset_manifest.dataset_format)==null?void 0:Oe.title_slots),i.$$.dirty[0]&8|i.$$.dirty[1]&64&&t(36,g=(Be=(_||[]).find(Ne=>{const[xe]=Ne;return tt(xe,A)}))==null?void 0:Be[1]),i.$$.dirty[0]&1|i.$$.dirty[1]&32&&t(19,O=g!=null&&H!=null?nt.value(ut(H,_e(g))[0]):null),i.$$.dirty[1]&1024&&t(35,F=q.data!=null?ri(q.data.schema).filter(Ne=>{var xe;return((xe=Ne.dtype)==null?void 0:xe.type)==="string"}):[]),i.$$.dirty[0]&9|i.$$.dirty[1]&16&&t(34,L=F.map(Ne=>Ne.path).map(Ne=>Array.isArray(Ne)?Ne:[Ne]).flatMap(Ne=>H==null?[]:ut(H,Ne).map(xe=>nt.path(xe)).filter(xe=>!Yt(xe,A)))),i.$$.dirty[1]&8&&t(18,S=L.map(Ne=>({id:Ne,text:ct(Ne)}))),i.$$.dirty[0]&8|i.$$.dirty[1]&1024&&t(7,w=Bi((We=q.data)==null?void 0:We.schema,A)),i.$$.dirty[0]&128&&t(17,V=w.length===0),i.$$.dirty[0]&8|i.$$.dirty[1]&1024&&t(8,P=q.data!=null&&A!=null?Ut(q.data.schema,A):null),i.$$.dirty[0]&258&&t(16,I=P!=null?Ni(P,v):null),i.$$.dirty[0]&520){t(13,ue=null);for(const Ne of T.compareColumns)if(tt(Ne.column,A)){t(13,ue=Ne);break}}i.$$.dirty[0]&8|i.$$.dirty[1]&512&&t(33,C=((ot=(it=(je=me.data)==null?void 0:je.ui)==null?void 0:it.markdown_paths)==null?void 0:ot.find(Ne=>tt(Ne,A)))!=null),i.$$.dirty[1]&512&&t(15,$=((Ht=(ft=me.data)==null?void 0:ft.ui)==null?void 0:Ht.view_type)||"single_item"),i.$$.dirty[0]&64|i.$$.dirty[1]&4&&t(14,de=we!==void 0?we:C)},[H,v,y,A,W,ke,we,w,P,T,j,be,ae,ue,de,$,I,V,S,O,d,f,u,o,a,n,l,Ie,ye,Se,Je,N,U,C,L,F,g,_,s,r,me,q,G,ie,pe,qe,He,Ee,Ze,Ye,et]}class pi extends Ae{constructor(e){super(),ze(this,e,Ts,Vs,Le,{row:0,highlightedFields:1,mediaFields:2,rootPath:3,isFetching:4},null,[-1,-1])}}function Os(i){let e,t,l,n;return{c(){e=E("button"),t=ee(i[1]),this.h()},l(a){e=M(a,"BUTTON",{class:!0});var r=m(e);t=te(r,i[1]),r.forEach(c),this.h()},h(){e.disabled=i[2],b(e,"class","rounded-lg border border-gray-300 hover:border-gray-500"),K(e,"bg-slate-500",i[0]),K(e,"bg-white",!i[0]),K(e,"hover:bg-slate-500",i[0]),K(e,"hover:bg-transparent",!i[0]),K(e,"text-white",i[0])},m(a,r){D(a,e,r),h(e,t),l||(n=Ke(e,"click",i[3]),l=!0)},p(a,[r]){r&2&&Te(t,a[1]),r&4&&(e.disabled=a[2]),r&1&&K(e,"bg-slate-500",a[0]),r&1&&K(e,"bg-white",!a[0]),r&1&&K(e,"hover:bg-slate-500",a[0]),r&1&&K(e,"hover:bg-transparent",!a[0]),r&1&&K(e,"text-white",a[0])},i:Z,o:Z,d(a){a&&c(e),l=!1,n()}}}function Ss(i,e,t){let{label:l}=e,{active:n}=e,{disabled:a=!1}=e;function r(o){Xl.call(this,i,o)}return i.$$set=o=>{"label"in o&&t(1,l=o.label),"active"in o&&t(0,n=o.active),"disabled"in o&&t(2,a=o.disabled)},i.$$.update=()=>{i.$$.dirty&5&&t(0,n=n&&!a)},[n,l,a,r]}class Cs extends Ae{constructor(e){super(),ze(this,e,Ss,Os,Le,{label:1,active:0,disabled:2})}}function Ds(i){var o;let e,t,l,n=((o=i[0])==null?void 0:o.toLocaleString())+"",a,r;return{c(){e=E("p"),t=ee("Restore "),l=E("span"),a=ee(n),r=ee(`
    rows?`),this.h()},l(s){e=M(s,"P",{});var u=m(e);t=te(u,"Restore "),l=M(u,"SPAN",{class:!0});var f=m(l);a=te(f,n),f.forEach(c),r=te(u,`
    rows?`),u.forEach(c),this.h()},h(){b(l,"class","font-mono font-bold")},m(s,u){D(s,e,u),h(e,t),h(e,l),h(l,a),h(e,r)},p(s,u){var f;u&1&&n!==(n=((f=s[0])==null?void 0:f.toLocaleString())+"")&&Te(a,n)},d(s){s&&c(e)}}}function Ps(i){let e,t,l,n,a,r,o,s,u,f;return l=new di({}),o=new Bt({props:{size:"xs",open:i[2]&&i[3],modalHeading:"Restore rows",primaryButtonText:"Confirm",secondaryButtonText:"Cancel",selectorPrimaryFocus:".bx--btn--primary",$$slots:{default:[Ds]},$$scope:{ctx:i}}}),o.$on("submit",i[12]),o.$on("click:button--secondary",i[13]),o.$on("close",i[14]),{c(){e=E("div"),t=E("button"),ne(l.$$.fragment),r=fe(),ne(o.$$.fragment),this.h()},l(d){e=M(d,"DIV",{class:!0});var _=m(e);t=M(_,"BUTTON",{class:!0});var g=m(t);he(l.$$.fragment,g),g.forEach(c),_.forEach(c),r=ce(d),he(o.$$.fragment,d),this.h()},h(){t.disabled=n=!i[3],b(t,"class","rounded border border-gray-300 bg-white hover:border-gray-500 hover:bg-transparent"),K(t,"opacity-30",!i[3]),b(e,"class","ml-2 inline-block")},m(d,_){D(d,e,_),h(e,t),re(l,t,null),D(d,r,_),re(o,d,_),s=!0,u||(f=[Ke(t,"click",i[11]),Fe(a=Ue.call(null,e,{text:i[3]?i[1]!=null&&i[1].length===1?"Restore deleted row":"Restore deleted rows":"User does not have access to restore rows."}))],u=!0)},p(d,[_]){(!s||_&8&&n!==(n=!d[3]))&&(t.disabled=n),(!s||_&8)&&K(t,"opacity-30",!d[3]),a&&lt(a.update)&&_&10&&a.update.call(null,{text:d[3]?d[1]!=null&&d[1].length===1?"Restore deleted row":"Restore deleted rows":"User does not have access to restore rows."});const g={};_&12&&(g.open=d[2]&&d[3]),_&262145&&(g.$$scope={dirty:_,ctx:d}),o.$set(g)},i(d){s||(p(l.$$.fragment,d),p(o.$$.fragment,d),s=!0)},o(d){k(l.$$.fragment,d),k(o.$$.fragment,d),s=!1},d(d){d&&c(e),se(l),d&&c(r),se(o,d),u=!1,rt(f)}}}function Rs(i,e,t){let l,n,a,r,{rowIds:o=void 0}=e,{searches:s=void 0}=e,{filters:u=void 0}=e,{numRows:f=void 0}=e;const d=Tt();Ge(i,d,I=>t(10,r=I));const _=Mt(),g=mt();Ge(i,g,I=>t(15,n=I));const O=Fi();Ge(i,O,I=>t(16,a=I));function F(){a.mutate([n.namespace,n.datasetName,{row_ids:o,searches:s,filters:u}],{onSuccess:()=>{_("restore"),t(2,L=!1),close()}})}let L=!1;const S=()=>{t(2,L=!0)},w=()=>F(),V=()=>{t(2,L=!1)},P=()=>t(2,L=!1);return i.$$set=I=>{"rowIds"in I&&t(1,o=I.rowIds),"searches"in I&&t(8,s=I.searches),"filters"in I&&t(9,u=I.filters),"numRows"in I&&t(0,f=I.numRows)},i.$$.update=()=>{var I;i.$$.dirty&1024&&t(3,l=(I=r.data)==null?void 0:I.access.dataset.delete_rows),i.$$.dirty&3&&f==null&&o!=null&&t(0,f=o.length)},[f,o,L,l,d,g,O,F,s,u,r,S,w,V,P]}class As extends Ae{constructor(e){super(),ze(this,e,Rs,Ps,Le,{rowIds:1,searches:8,filters:9,numRows:0})}}function Rt(i){const e=i.slice(),t=e[3]!=null&&e[3]<e[4]-1;return e[49]=t,e}function At(i){const e=i.slice(),t=e[3]!=null&&e[3]>0;return e[50]=t,e}function Sl(i,e,t){const l=i.slice();return l[51]=e[t],l}function Cl(i){let e,t,l,n,a,r;function o(){return i[38](i[51])}return t=new Cs({props:{label:i[51],disabled:i[12].has(i[51])||i[18],active:i[14].includes(i[51])}}),t.$on("click",o),{c(){e=E("div"),ne(t.$$.fragment),this.h()},l(s){e=M(s,"DIV",{});var u=m(e);he(t.$$.fragment,u),u.forEach(c),this.h()},h(){K(e,"opacity-50",i[12].has(i[51]))},m(s,u){D(s,e,u),re(t,e,null),n=!0,a||(r=Fe(l=Ue.call(null,e,{text:i[15][i[51]]!=null?`Keyboard: ${i[15][i[51]]}`:""})),a=!0)},p(s,u){i=s;const f={};u[0]&131072&&(f.label=i[51]),u[0]&397312&&(f.disabled=i[12].has(i[51])||i[18]),u[0]&147456&&(f.active=i[14].includes(i[51])),t.$set(f),l&&lt(l.update)&&u[0]&163840&&l.update.call(null,{text:i[15][i[51]]!=null?`Keyboard: ${i[15][i[51]]}`:""}),(!n||u[0]&135168)&&K(e,"opacity-50",i[12].has(i[51]))},i(s){n||(p(t.$$.fragment,s),n=!0)},o(s){k(t.$$.fragment,s),n=!1},d(s){s&&c(e),se(t),a=!1,r()}}}function Dl(i){let e,t,l,n,a,r,o;return l=new kn({props:{title:"Previous item",size:24}}),{c(){e=E("div"),t=E("button"),ne(l.$$.fragment),this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);t=M(u,"BUTTON",{});var f=m(t);he(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[50],K(t,"opacity-30",!i[50]),b(e,"class","flex-0 my-0.5")},m(s,u){D(s,e,u),h(e,t),re(l,t,null),a=!0,r||(o=Ke(t,"click",i[39]),r=!0)},p(s,u){(!a||u[0]&8&&n!==(n=!s[50]))&&(t.disabled=n),(!a||u[0]&8)&&K(t,"opacity-30",!s[50])},i(s){a||(p(l.$$.fragment,s),a=!0)},o(s){k(l.$$.fragment,s),a=!1},d(s){s&&c(e),se(l),r=!1,o()}}}function zs(i){let e,t,l;return t=new _t({props:{lines:1,class:"!w-10"}}),{c(){e=E("div"),ne(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);he(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","pt-1.5")},m(n,a){D(n,e,a),re(t,e,null),l=!0},p:Z,i(n){l||(p(t.$$.fragment,n),l=!0)},o(n){k(t.$$.fragment,n),l=!1},d(n){n&&c(e),se(t)}}}function Ls(i){let e=i[3]+1+"",t;return{c(){t=ee(e)},l(l){t=te(l,e)},m(l,n){D(l,t,n)},p(l,n){n[0]&8&&e!==(e=l[3]+1+"")&&Te(t,e)},i:Z,o:Z,d(l){l&&c(t)}}}function Bs(i){let e,t,l;return t=new _t({props:{lines:1,class:"!w-20"}}),{c(){e=E("div"),ne(t.$$.fragment),this.h()},l(n){e=M(n,"DIV",{class:!0});var a=m(e);he(t.$$.fragment,a),a.forEach(c),this.h()},h(){b(e,"class","pt-1.5")},m(n,a){D(n,e,a),re(t,e,null),l=!0},p:Z,i(n){l||(p(t.$$.fragment,n),l=!0)},o(n){k(t.$$.fragment,n),l=!1},d(n){n&&c(e),se(t)}}}function Ns(i){let e=It(i[4])+"",t;return{c(){t=ee(e)},l(l){t=te(l,e)},m(l,n){D(l,t,n)},p(l,n){n[0]&16&&e!==(e=It(l[4])+"")&&Te(t,e)},i:Z,o:Z,d(l){l&&c(t)}}}function Pl(i){let e,t,l,n,a,r,o;return l=new En({props:{title:"Next item",size:24}}),{c(){e=E("div"),t=E("button"),ne(l.$$.fragment),this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);t=M(u,"BUTTON",{});var f=m(t);he(l.$$.fragment,f),f.forEach(c),u.forEach(c),this.h()},h(){t.disabled=n=!i[49],K(t,"opacity-30",!i[49]),b(e,"class","flex-0")},m(s,u){D(s,e,u),h(e,t),re(l,t,null),a=!0,r||(o=Ke(t,"click",i[40]),r=!0)},p(s,u){(!a||u[0]&24&&n!==(n=!s[49]))&&(t.disabled=n),(!a||u[0]&24)&&K(t,"opacity-30",!s[49])},i(s){a||(p(l.$$.fragment,s),a=!0)},o(s){k(l.$$.fragment,s),a=!1},d(s){s&&c(e),se(l),r=!1,o()}}}function Rl(i){let e,t,l,n;const a=[Fs,Hs],r=[];function o(s,u){return s[10].viewTrash?1:0}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=$e()},l(s){t.l(s),l=$e()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Me(),k(r[f],1,1,()=>{r[f]=null}),Ve(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l))},i(s){n||(p(t),n=!0)},o(s){k(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function Hs(i){let e,t;return e=new As({props:{rowIds:[i[0]]}}),e.$on("restore",i[43]),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p(l,n){const a={};n[0]&1&&(a.rowIds=[l[0]]),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Fs(i){let e,t,l;function n(r){i[41](r)}let a={rowIds:[i[0]]};return i[11]!==void 0&&(a.modalOpen=i[11]),e=new $n({props:a}),at.push(()=>vt(e,"modalOpen",n)),e.$on("deleted",i[42]),{c(){ne(e.$$.fragment)},l(r){he(e.$$.fragment,r)},m(r,o){re(e,r,o),l=!0},p(r,o){const s={};o[0]&1&&(s.rowIds=[r[0]]),!t&&o[0]&2048&&(t=!0,s.modalOpen=r[11],pt(()=>t=!1)),e.$set(s)},i(r){l||(p(e.$$.fragment,r),l=!0)},o(r){k(e.$$.fragment,r),l=!1},d(r){se(e,r)}}}function Al(i){let e,t;return e=new _t({props:{class:"w-20"}}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function zl(i){var n;let e,t,l;return t=new pi({props:{mediaFields:i[1],row:i[7],highlightedFields:i[2],isFetching:(n=i[8])==null?void 0:n.isFetching}}),{c(){e=E("div"),ne(t.$$.fragment),this.h()},l(a){e=M(a,"DIV",{class:!0});var r=m(e);he(t.$$.fragment,r),r.forEach(c),this.h()},h(){b(e,"class","flex w-full flex-col")},m(a,r){D(a,e,r),re(t,e,null),l=!0},p(a,r){var s;const o={};r[0]&2&&(o.mediaFields=a[1]),r[0]&128&&(o.row=a[7]),r[0]&4&&(o.highlightedFields=a[2]),r[0]&256&&(o.isFetching=(s=a[8])==null?void 0:s.isFetching),t.$set(o)},i(a){l||(p(t.$$.fragment,a),l=!0)},o(a){k(t.$$.fragment,a),l=!1},d(a){a&&c(e),se(t)}}}function Ll(i){let e,t,l,n,a,r,o;return n=new rn({props:{row:i[7],selectRowsSchema:i[9].data,highlightedFields:i[2]}}),{c(){e=E("div"),t=E("div"),l=E("div"),ne(n.$$.fragment),this.h()},l(s){e=M(s,"DIV",{class:!0});var u=m(e);t=M(u,"DIV",{class:!0});var f=m(t);l=M(f,"DIV",{style:!0,class:!0});var d=m(l);he(n.$$.fragment,d),d.forEach(c),f.forEach(c),u.forEach(c),this.h()},h(){b(l,"style",a=`max-height: ${Math.max(Bl,i[13])}px`),b(l,"class","overflow-y-auto"),b(t,"class","sticky top-0 w-full self-start"),b(e,"class","flex h-full bg-neutral-100 md:w-1/3")},m(s,u){D(s,e,u),h(e,t),h(t,l),re(n,l,null),o=!0},p(s,u){i=s;const f={};u[0]&128&&(f.row=i[7]),u[0]&512&&(f.selectRowsSchema=i[9].data),u[0]&4&&(f.highlightedFields=i[2]),n.$set(f),(!o||u[0]&8192&&a!==(a=`max-height: ${Math.max(Bl,i[13])}px`))&&b(l,"style",a)},i(s){o||(p(n.$$.fragment,s),Jl(()=>{o&&(r||(r=qt(e,Wt,{axis:"x",duration:Kt},!0)),r.run(1))}),o=!0)},o(s){k(n.$$.fragment,s),r||(r=qt(e,Wt,{axis:"x",duration:Kt},!1)),r.run(0),o=!1},d(s){s&&c(e),se(n),s&&r&&r.end()}}}function js(i){var Je;let e,t,l,n,a,r,o,s,u,f,d,_,g,O,F,L,S,w,V,P,I,C,$,de,me,oe,le,T,z,q,B,Y,G,Q,ge,ie,Ce,X=i[17]||[],H=[];for(let N=0;N<X.length;N+=1)H[N]=Cl(Sl(i,X,N));const v=N=>k(H[N],1,1,()=>{H[N]=null});s=new br({props:{icon:ci,labelsQuery:{row_ids:i[0]!=null?[i[0]]:[]},hideLabels:i[14]}});let y=i[5]!=null&&Dl(At(i));const A=[Ls,zs],W=[];function ke(N,ue){return N[3]!=null&&N[3]>=0?0:1}F=ke(i),L=W[F]=A[F](i);const Ie=[Ns,Bs],j=[];function be(N,ue){return N[4]!=null?0:1}C=be(i),$=j[C]=Ie[C](i);let ae=i[5]!=null&&i[4]!=null&&Pl(Rt(i)),we=i[0]!=null&&Rl(i),ye=((Je=i[8])==null?void 0:Je.isFetching)&&Al(),Se=i[1].length>0&&i[7]!=null&&zl(i),_e=i[10].showMetadataPanel&&Ll(i);return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("div"),a=E("div");for(let N=0;N<H.length;N+=1)H[N].c();r=fe(),o=E("div"),ne(s.$$.fragment),u=fe(),f=E("div"),d=E("div"),y&&y.c(),_=fe(),g=E("div"),O=E("div"),L.c(),S=fe(),w=E("div"),V=ee("of"),P=fe(),I=E("span"),$.c(),de=fe(),ae&&ae.c(),me=fe(),oe=E("div"),we&&we.c(),le=fe(),T=E("div"),z=E("div"),q=E("div"),ye&&ye.c(),B=fe(),Se&&Se.c(),Q=fe(),_e&&_e.c(),this.h()},l(N){e=M(N,"DIV",{class:!0});var ue=m(e);t=M(ue,"DIV",{class:!0});var U=m(t);l=M(U,"DIV",{class:!0});var pe=m(l);n=M(pe,"DIV",{class:!0});var qe=m(n);a=M(qe,"DIV",{class:!0});var He=m(a);for(let ft=0;ft<H.length;ft+=1)H[ft].l(He);r=ce(He),o=M(He,"DIV",{class:!0});var Ee=m(o);he(s.$$.fragment,Ee),Ee.forEach(c),He.forEach(c),qe.forEach(c),u=ce(pe),f=M(pe,"DIV",{class:!0});var Ze=m(f);d=M(Ze,"DIV",{class:!0});var Ye=m(d);y&&y.l(Ye),_=ce(Ye),g=M(Ye,"DIV",{class:!0});var et=m(g);O=M(et,"DIV",{class:!0});var R=m(O);L.l(R),R.forEach(c),S=ce(et),w=M(et,"DIV",{class:!0});var Oe=m(w);V=te(Oe,"of"),Oe.forEach(c),P=ce(et),I=M(et,"SPAN",{class:!0});var Be=m(I);$.l(Be),Be.forEach(c),et.forEach(c),de=ce(Ye),ae&&ae.l(Ye),Ye.forEach(c),Ze.forEach(c),me=ce(pe),oe=M(pe,"DIV",{class:!0});var We=m(oe);we&&we.l(We),We.forEach(c),pe.forEach(c),U.forEach(c),le=ce(ue),T=M(ue,"DIV",{class:!0});var je=m(T);z=M(je,"DIV",{class:!0});var it=m(z);q=M(it,"DIV",{class:!0});var ot=m(q);ye&&ye.l(ot),B=ce(ot),Se&&Se.l(ot),ot.forEach(c),it.forEach(c),Q=ce(je),_e&&_e.l(je),je.forEach(c),ue.forEach(c),this.h()},h(){b(o,"class","relative mr-8 h-8"),b(a,"class","flex w-full flex-row flex-wrap items-center gap-x-2 gap-y-2 pl-2"),K(a,"opacity-50",i[18]),b(n,"class","flex w-1/3 flex-row"),b(O,"class","flex"),b(w,"class","text-gray-500 opacity-80"),b(I,"class","inline-flex text-gray-500 opacity-80"),b(g,"class","mx-2 flex w-32 flex-row justify-center justify-items-center gap-x-1.5"),b(d,"class","flex w-full flex-row items-center justify-center truncate text-center text-lg"),b(f,"class","w-1/3 items-center justify-items-center self-center justify-self-center"),b(oe,"class","flex w-1/3 flex-row items-center justify-end pr-2"),b(l,"class","mx-8 flex w-full rounded-t-lg border border-neutral-300 bg-violet-200 bg-opacity-70 py-2"),K(l,"bg-violet-200",!i[10].viewTrash),K(l,"bg-opacity-70",!i[10].viewTrash),K(l,"bg-red-500",i[10].viewTrash),K(l,"bg-opacity-20",i[10].viewTrash),b(t,"class","sticky top-0 z-10 flex w-full flex-row justify-between bg-white"),b(q,"class","rounded-b border-b border-l border-r border-neutral-300"),b(z,"class",Y=`flex flex-col ${i[10].showMetadataPanel?"w-2/3":"grow "}`),Jl(()=>i[44].call(z)),b(T,"class","flex w-full flex-row px-8"),b(e,"class","relative flex w-full flex-col rounded md:flex-col")},m(N,ue){D(N,e,ue),h(e,t),h(t,l),h(l,n),h(n,a);for(let U=0;U<H.length;U+=1)H[U]&&H[U].m(a,null);h(a,r),h(a,o),re(s,o,null),h(l,u),h(l,f),h(f,d),y&&y.m(d,null),h(d,_),h(d,g),h(g,O),W[F].m(O,null),h(g,S),h(g,w),h(w,V),h(g,P),h(g,I),j[C].m(I,null),h(d,de),ae&&ae.m(d,null),h(l,me),h(l,oe),we&&we.m(oe,null),h(e,le),h(e,T),h(T,z),h(z,q),ye&&ye.m(q,null),h(q,B),Se&&Se.m(q,null),G=Si(z,i[44].bind(z)),h(T,Q),_e&&_e.m(T,null),ge=!0,ie||(Ce=Ke(window,"keydown",i[28]),ie=!0)},p(N,ue){var He;if(ue[0]&201773056){X=N[17]||[];let Ee;for(Ee=0;Ee<X.length;Ee+=1){const Ze=Sl(N,X,Ee);H[Ee]?(H[Ee].p(Ze,ue),p(H[Ee],1)):(H[Ee]=Cl(Ze),H[Ee].c(),p(H[Ee],1),H[Ee].m(a,r))}for(Me(),Ee=X.length;Ee<H.length;Ee+=1)v(Ee);Ve()}const U={};ue[0]&1&&(U.labelsQuery={row_ids:N[0]!=null?[N[0]]:[]}),ue[0]&16384&&(U.hideLabels=N[14]),s.$set(U),(!ge||ue[0]&262144)&&K(a,"opacity-50",N[18]),N[5]!=null?y?(y.p(At(N),ue),ue[0]&32&&p(y,1)):(y=Dl(At(N)),y.c(),p(y,1),y.m(d,_)):y&&(Me(),k(y,1,1,()=>{y=null}),Ve());let pe=F;F=ke(N),F===pe?W[F].p(N,ue):(Me(),k(W[pe],1,1,()=>{W[pe]=null}),Ve(),L=W[F],L?L.p(N,ue):(L=W[F]=A[F](N),L.c()),p(L,1),L.m(O,null));let qe=C;C=be(N),C===qe?j[C].p(N,ue):(Me(),k(j[qe],1,1,()=>{j[qe]=null}),Ve(),$=j[C],$?$.p(N,ue):($=j[C]=Ie[C](N),$.c()),p($,1),$.m(I,null)),N[5]!=null&&N[4]!=null?ae?(ae.p(Rt(N),ue),ue[0]&48&&p(ae,1)):(ae=Pl(Rt(N)),ae.c(),p(ae,1),ae.m(d,null)):ae&&(Me(),k(ae,1,1,()=>{ae=null}),Ve()),N[0]!=null?we?(we.p(N,ue),ue[0]&1&&p(we,1)):(we=Rl(N),we.c(),p(we,1),we.m(oe,null)):we&&(Me(),k(we,1,1,()=>{we=null}),Ve()),(!ge||ue[0]&1024)&&K(l,"bg-violet-200",!N[10].viewTrash),(!ge||ue[0]&1024)&&K(l,"bg-opacity-70",!N[10].viewTrash),(!ge||ue[0]&1024)&&K(l,"bg-red-500",N[10].viewTrash),(!ge||ue[0]&1024)&&K(l,"bg-opacity-20",N[10].viewTrash),(He=N[8])!=null&&He.isFetching?ye?ue[0]&256&&p(ye,1):(ye=Al(),ye.c(),p(ye,1),ye.m(q,B)):ye&&(Me(),k(ye,1,1,()=>{ye=null}),Ve()),N[1].length>0&&N[7]!=null?Se?(Se.p(N,ue),ue[0]&130&&p(Se,1)):(Se=zl(N),Se.c(),p(Se,1),Se.m(q,null)):Se&&(Me(),k(Se,1,1,()=>{Se=null}),Ve()),(!ge||ue[0]&1024&&Y!==(Y=`flex flex-col ${N[10].showMetadataPanel?"w-2/3":"grow "}`))&&b(z,"class",Y),N[10].showMetadataPanel?_e?(_e.p(N,ue),ue[0]&1024&&p(_e,1)):(_e=Ll(N),_e.c(),p(_e,1),_e.m(T,null)):_e&&(Me(),k(_e,1,1,()=>{_e=null}),Ve())},i(N){if(!ge){for(let ue=0;ue<X.length;ue+=1)p(H[ue]);p(s.$$.fragment,N),p(y),p(L),p($),p(ae),p(we),p(ye),p(Se),p(_e),ge=!0}},o(N){H=H.filter(Boolean);for(let ue=0;ue<H.length;ue+=1)k(H[ue]);k(s.$$.fragment,N),k(y),k(L),k($),k(ae),k(we),k(ye),k(Se),k(_e),ge=!1},d(N){N&&c(e),Vt(H,N),se(s),y&&y.d(),W[F].d(),j[C].d(),ae&&ae.d(),we&&we.d(),ye&&ye.d(),Se&&Se.d(),G(),_e&&_e.d(),ie=!1,Ce()}}}const Bl=165;function qs(i,e,t){let l,n,a,r,o,s,u,f,d,_,g,O,F,L,S,w,V,P,I=Z,C=()=>(I(),I=Qe(a,R=>t(35,P=R)),a),$,de=Z,me=()=>(de(),de=Qe(f,R=>t(46,$=R)),f),oe,le=Z,T=()=>(le(),le=Qe(S,R=>t(47,oe=R)),S),z,q=Z,B=()=>(q(),q=Qe(_,R=>t(8,z=R)),_),Y,G=Z,Q=()=>(G(),G=Qe(s,R=>t(36,Y=R)),s),ge,ie=Z,Ce=()=>(ie(),ie=Qe(u,R=>t(9,ge=R)),u),X,H;i.$$.on_destroy.push(()=>I()),i.$$.on_destroy.push(()=>de()),i.$$.on_destroy.push(()=>le()),i.$$.on_destroy.push(()=>q()),i.$$.on_destroy.push(()=>G()),i.$$.on_destroy.push(()=>ie());let{rowId:v}=e,{mediaFields:y}=e,{highlightedFields:A}=e,{index:W=void 0}=e,{totalNumRows:ke=void 0}=e,{updateSequentialRowId:Ie=void 0}=e,{nextRowId:j=void 0}=e,{modalOpen:be=!1}=e,ae=!1;const we=mt();Ge(i,we,R=>t(10,X=R));const ye=fi(),Se=Tt();Ge(i,Se,R=>t(37,H=R));let _e=new Set,Je=0;function N(R){if(v==null||!o)return;const Oe={row_ids:[v],label_name:R};_e.add(R),t(12,_e),t(33,w),t(8,z),oe.mutate([l,n,Oe],{onSuccess:Be=>{if(Be===1)return;const We=Oe.row_ids!=null?`Document id: ${Oe.row_ids}`:`${Be.toLocaleString()} rows labeled`;ye.addNotification({kind:"success",title:`Added label "${Oe.label_name}"`,message:We})}})}function ue(R){if(v==null||!o)return;const Oe={label_name:R,row_ids:[v]};_e.add(R),t(12,_e),t(33,w),t(8,z),$.mutate([l,n,Oe],{onSuccess:Be=>{Be!==1&&ye.addNotification({kind:"success",title:`Removed label "${Oe.label_name}"`,message:`Document id: ${v}`})}})}function U(R){if(!(r!=="single_item"||be))if(R.code==="Delete"||R.code==="Backspace")t(11,ae=!0);else for(const Oe of Object.keys(V))V[Oe]===R.code&&(O.includes(Oe)?ue(Oe):N(Oe))}const pe=R=>{O.includes(R)?ue(R):N(R)},qe=()=>Ie!=null?Ie("previous"):null,He=()=>Ie!=null?Ie("next"):null;function Ee(R){ae=R,t(11,ae)}const Ze=()=>j!=null?we.setRowId(j):null,Ye=()=>j!=null?we.setRowId(j):null;function et(){Je=this.clientHeight,t(13,Je)}return i.$$set=R=>{"rowId"in R&&t(0,v=R.rowId),"mediaFields"in R&&t(1,y=R.mediaFields),"highlightedFields"in R&&t(2,A=R.highlightedFields),"index"in R&&t(3,W=R.index),"totalNumRows"in R&&t(4,ke=R.totalNumRows),"updateSequentialRowId"in R&&t(5,Ie=R.updateSequentialRowId),"nextRowId"in R&&t(6,j=R.nextRowId),"modalOpen"in R&&t(29,be=R.modalOpen)},i.$$.update=()=>{var R,Oe,Be,We,je,it;i.$$.dirty[0]&1024&&t(31,l=X.namespace),i.$$.dirty[0]&1024&&t(30,n=X.datasetName),i.$$.dirty[0]&1073741824|i.$$.dirty[1]&1&&C(t(23,a=ni(l,n))),i.$$.dirty[1]&16&&(r=((Oe=(R=P.data)==null?void 0:R.ui)==null?void 0:Oe.view_type)||"single_item"),i.$$.dirty[1]&64&&t(32,o=(Be=H.data)==null?void 0:Be.access.dataset.edit_labels),i.$$.dirty[0]&1073741824|i.$$.dirty[1]&1&&Q(t(22,s=Ot(l,n))),i.$$.dirty[0]&1073742848|i.$$.dirty[1]&33&&Ce(t(21,u=li(l,n,ii(X,Y.data)))),i.$$.dirty[1]&32&&me(t(20,f=Y.data!=null?$l(Y.data):null)),i.$$.dirty[0]&1024|i.$$.dirty[1]&32&&t(34,d=ji(X,Y.data)),i.$$.dirty[0]&1073742337|i.$$.dirty[1]&9&&B(t(19,_=qi(l,n,v,d,(We=ge.data)==null?void 0:We.schema,v!=null&&ge.data!=null))),i.$$.dirty[0]&256&&t(7,g=z!=null&&!z.isFetching?z==null?void 0:z.data:null),i.$$.dirty[0]&128&&t(14,O=g!=null?Yi(g):[]),i.$$.dirty[1]&2&&t(18,F=!o),i.$$.dirty[1]&32&&t(17,L=Y.data&&ei(Y.data)),i.$$.dirty[1]&32&&T(t(16,S=Y.data!=null?xl(Y.data):null)),i.$$.dirty[0]&256&&t(33,w=z==null?void 0:z.isStale),i.$$.dirty[1]&4&&(w||t(12,_e=new Set)),i.$$.dirty[1]&16&&t(15,V=((it=(je=P.data)==null?void 0:je.ui)==null?void 0:it.label_to_keycode)||{})},[v,y,A,W,ke,Ie,j,g,z,ge,X,ae,_e,Je,O,V,S,L,F,_,f,u,s,a,we,Se,N,ue,U,be,n,l,o,w,d,P,Y,H,pe,qe,He,Ee,Ze,Ye,et]}class _a extends Ae{constructor(e){super(),ze(this,e,qs,js,Le,{rowId:0,mediaFields:1,highlightedFields:2,index:3,totalNumRows:4,updateSequentialRowId:5,nextRowId:6,modalOpen:29},null,[-1,-1])}}function Nl(i){let e,t,l;var n=i[2];function a(r){return{}}return n&&(t=ht(n,a())),{c(){e=E("div"),t&&ne(t.$$.fragment),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);t&&he(t.$$.fragment,o),o.forEach(c),this.h()},h(){b(e,"class","mr-2")},m(r,o){D(r,e,o),t&&re(t,e,null),l=!0},p(r,o){if(o&4&&n!==(n=r[2])){if(t){Me();const s=t;k(s.$$.fragment,1,0,()=>{se(s,1)}),Ve()}n?(t=ht(n,a()),ne(t.$$.fragment),p(t.$$.fragment,1),re(t,e,null)):t=null}},i(r){l||(t&&p(t.$$.fragment,r),l=!0)},o(r){t&&k(t.$$.fragment,r),l=!1},d(r){r&&c(e),t&&se(t)}}}function Ys(i){let e,t,l,n,a,r,o,s,u=i[2]!=null&&Nl(i);return{c(){e=E("button"),u&&u.c(),t=fe(),l=E("div"),n=ee(i[1]),this.h()},l(f){e=M(f,"BUTTON",{class:!0});var d=m(e);u&&u.l(d),t=ce(d),l=M(d,"DIV",{class:!0});var _=m(l);n=te(_,i[1]),_.forEach(c),d.forEach(c),this.h()},h(){b(l,"class","text-sm"),b(e,"class","inline-flex items-center rounded-xl px-2 py-1 outline outline-1 outline-gray-500 focus:outline-1 svelte-1tlnk00"),K(e,"active",i[0])},m(f,d){D(f,e,d),u&&u.m(e,null),h(e,t),h(e,l),h(l,n),r=!0,o||(s=[Ke(e,"click",i[4]),Fe(a=Ue.call(null,e,{text:i[3]}))],o=!0)},p(f,[d]){f[2]!=null?u?(u.p(f,d),d&4&&p(u,1)):(u=Nl(f),u.c(),p(u,1),u.m(e,t)):u&&(Me(),k(u,1,1,()=>{u=null}),Ve()),(!r||d&2)&&Te(n,f[1]),a&&lt(a.update)&&d&8&&a.update.call(null,{text:f[3]}),(!r||d&1)&&K(e,"active",f[0])},i(f){r||(p(u),r=!0)},o(f){k(u),r=!1},d(f){f&&c(e),u&&u.d(),o=!1,rt(s)}}}function Us(i,e,t){let{active:l=!1}=e,{label:n}=e,{icon:a=void 0}=e,{tooltip:r=void 0}=e;function o(s){Xl.call(this,i,s)}return i.$$set=s=>{"active"in s&&t(0,l=s.active),"label"in s&&t(1,n=s.label),"icon"in s&&t(2,a=s.icon),"tooltip"in s&&t(3,r=s.tooltip)},[l,n,a,r,o]}class Hl extends Ae{constructor(e){super(),ze(this,e,Us,Ys,Le,{active:0,label:1,icon:2,tooltip:3})}}function Fl(i,e,t){const l=i.slice();return l[26]=e[t],l}function jl(i,e,t){const l=i.slice();l[29]=e[t],l[32]=t;const n=l[1].find(function(...r){return i[21](l[29],...r)});return l[30]=n,l}function zt(i){const e=i.slice(),t=si(e[30]);e[33]=t;const l=ai(e[30]);e[34]=l;const n=e[32]===0;e[35]=n;const a=e[32]===e[0].ui.media_paths.length-1;return e[36]=a,e}function Ks(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,O,F,L,S,w,V,P,I,C,$,de,me,oe,le,T,z,q,B;const Y=[Qs,Ws],G=[];function Q(X,H){var v;return((v=X[0].ui)==null?void 0:v.media_paths)!=null&&X[1]!=null?0:1}u=Q(i),f=G[u]=Y[u](i),S=new Hl({props:{icon:Kn,label:"Scroll",active:i[4]=="scroll",tooltip:"Infinite scroll with snippets"}}),S.$on("click",i[22]),V=new Hl({props:{icon:Hn,label:"Single Item",active:i[4]=="single_item",tooltip:"Individual item"}}),V.$on("click",i[23]);const ge=[xs,Js],ie=[];function Ce(X,H){return X[6].isFetching?0:1}return z=Ce(i),q=ie[z]=ge[z](i),{c(){e=E("div"),t=E("section"),l=E("div"),n=ee("Media fields"),a=fe(),r=E("div"),o=ee(`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),s=fe(),f.c(),d=fe(),_=E("section"),g=E("div"),O=ee("View type"),F=fe(),L=E("div"),ne(S.$$.fragment),w=fe(),ne(V.$$.fragment),P=fe(),I=E("section"),C=E("div"),$=ee("Preferred embedding"),de=fe(),me=E("div"),oe=ee("This embedding will be used by default when indexing and querying the data."),le=fe(),T=E("div"),q.c(),this.h()},l(X){e=M(X,"DIV",{class:!0});var H=m(e);t=M(H,"SECTION",{class:!0});var v=m(t);l=M(v,"DIV",{class:!0});var y=m(l);n=te(y,"Media fields"),y.forEach(c),a=ce(v),r=M(v,"DIV",{class:!0});var A=m(r);o=te(A,`Media fields are text fields that are rendered large in the dataset viewer. They are the
        fields on which you can compute signals, embeddings, search, and label.`),A.forEach(c),s=ce(v),f.l(v),v.forEach(c),d=ce(H),_=M(H,"SECTION",{class:!0});var W=m(_);g=M(W,"DIV",{class:!0});var ke=m(g);O=te(ke,"View type"),ke.forEach(c),F=ce(W),L=M(W,"DIV",{class:!0});var Ie=m(L);he(S.$$.fragment,Ie),w=ce(Ie),he(V.$$.fragment,Ie),Ie.forEach(c),W.forEach(c),P=ce(H),I=M(H,"SECTION",{class:!0});var j=m(I);C=M(j,"DIV",{class:!0});var be=m(C);$=te(be,"Preferred embedding"),be.forEach(c),de=ce(j),me=M(j,"DIV",{class:!0});var ae=m(me);oe=te(ae,"This embedding will be used by default when indexing and querying the data."),ae.forEach(c),le=ce(j),T=M(j,"DIV",{class:!0});var we=m(T);q.l(we),we.forEach(c),j.forEach(c),H.forEach(c),this.h()},h(){b(l,"class","text-lg text-gray-700"),b(r,"class","text-sm text-gray-500"),b(t,"class","flex flex-col gap-y-4"),b(g,"class","text-lg text-gray-700"),b(L,"class","flex gap-x-2"),b(_,"class","flex flex-col gap-y-1"),b(C,"class","text-lg text-gray-700"),b(me,"class","text-sm text-gray-500"),b(T,"class","w-60"),b(I,"class","flex flex-col gap-y-1"),b(e,"class","flex flex-col gap-y-6")},m(X,H){D(X,e,H),h(e,t),h(t,l),h(l,n),h(t,a),h(t,r),h(r,o),h(t,s),G[u].m(t,null),h(e,d),h(e,_),h(_,g),h(g,O),h(_,F),h(_,L),re(S,L,null),h(L,w),re(V,L,null),h(e,P),h(e,I),h(I,C),h(C,$),h(I,de),h(I,me),h(me,oe),h(I,le),h(I,T),ie[z].m(T,null),B=!0},p(X,H){let v=u;u=Q(X),u===v?G[u].p(X,H):(Me(),k(G[v],1,1,()=>{G[v]=null}),Ve(),f=G[u],f?f.p(X,H):(f=G[u]=Y[u](X),f.c()),p(f,1),f.m(t,null));const y={};H[0]&16&&(y.active=X[4]=="scroll"),S.$set(y);const A={};H[0]&16&&(A.active=X[4]=="single_item"),V.$set(A);let W=z;z=Ce(X),z===W?ie[z].p(X,H):(Me(),k(ie[W],1,1,()=>{ie[W]=null}),Ve(),q=ie[z],q?q.p(X,H):(q=ie[z]=ge[z](X),q.c()),p(q,1),q.m(T,null))},i(X){B||(p(f),p(S.$$.fragment,X),p(V.$$.fragment,X),p(q),B=!0)},o(X){k(f),k(S.$$.fragment,X),k(V.$$.fragment,X),k(q),B=!1},d(X){X&&c(e),G[u].d(),se(S),se(V),ie[z].d()}}}function Zs(i){let e,t;return e=new _t({}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p:Z,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Ws(i){let e,t;return e=new oi({}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p:Z,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Qs(i){let e,t,l,n,a,r,o,s,u,f,d,_,g,O,F,L,S,w,V=i[1]&&ql(i),P=i[3]&&Zl(i);return{c(){e=E("div"),t=E("div"),l=E("div"),n=E("div"),a=fe(),r=E("div"),o=ee("Field"),s=fe(),u=E("div"),f=ee("Markdown"),d=fe(),_=E("div"),g=fe(),V&&V.c(),O=fe(),F=E("div"),P&&P.c(),this.h()},l(I){e=M(I,"DIV",{class:!0});var C=m(e);t=M(C,"DIV",{class:!0});var $=m(t);l=M($,"DIV",{class:!0});var de=m(l);n=M(de,"DIV",{class:!0}),m(n).forEach(c),a=ce(de),r=M(de,"DIV",{class:!0});var me=m(r);o=te(me,"Field"),me.forEach(c),s=ce(de),u=M(de,"DIV",{class:!0});var oe=m(u);f=te(oe,"Markdown"),oe.forEach(c),d=ce(de),_=M(de,"DIV",{class:!0}),m(_).forEach(c),de.forEach(c),$.forEach(c),g=ce(C),V&&V.l(C),C.forEach(c),O=ce(I),F=M(I,"DIV",{class:!0});var le=m(F);P&&P.l(le),le.forEach(c),this.h()},h(){b(n,"class","table-cell"),b(r,"class","table-cell"),b(u,"class","table-cell"),b(_,"class","table-cell"),b(l,"class","table-row text-xs text-neutral-600"),b(t,"class","table-header-group items-center"),b(e,"class","table border-spacing-1 gap-y-2"),b(F,"class","h-12")},m(I,C){D(I,e,C),h(e,t),h(t,l),h(l,n),h(l,a),h(l,r),h(r,o),h(l,s),h(l,u),h(u,f),h(l,d),h(l,_),h(e,g),V&&V.m(e,null),D(I,O,C),D(I,F,C),P&&P.m(F,null),L=!0,S||(w=Fe(Ue.call(null,u,{text:"Render media field with a markdown renderer."})),S=!0)},p(I,C){I[1]?V?(V.p(I,C),C[0]&2&&p(V,1)):(V=ql(I),V.c(),p(V,1),V.m(e,null)):V&&(Me(),k(V,1,1,()=>{V=null}),Ve()),I[3]?P?(P.p(I,C),C[0]&8&&p(P,1)):(P=Zl(I),P.c(),p(P,1),P.m(F,null)):P&&(Me(),k(P,1,1,()=>{P=null}),Ve())},i(I){L||(p(V),p(P),L=!0)},o(I){k(V),k(P),L=!1},d(I){I&&c(e),V&&V.d(),I&&c(O),I&&c(F),P&&P.d(),S=!1,w()}}}function ql(i){let e,t,l=i[0].ui.media_paths,n=[];for(let r=0;r<l.length;r+=1)n[r]=Kl(jl(i,l,r));const a=r=>k(n[r],1,1,()=>{n[r]=null});return{c(){e=E("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=M(r,"DIV",{class:!0});var o=m(e);for(let s=0;s<n.length;s+=1)n[s].l(o);o.forEach(c),this.h()},h(){b(e,"class","table-row-group")},m(r,o){D(r,e,o);for(let s=0;s<n.length;s+=1)n[s]&&n[s].m(e,null);t=!0},p(r,o){if(o[0]&15875){l=r[0].ui.media_paths;let s;for(s=0;s<l.length;s+=1){const u=jl(r,l,s);n[s]?(n[s].p(u,o),p(n[s],1)):(n[s]=Kl(u),n[s].c(),p(n[s],1),n[s].m(e,null))}for(Me(),s=l.length;s<n.length;s+=1)a(s);Ve()}},i(r){if(!t){for(let o=0;o<l.length;o+=1)p(n[o]);t=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)k(n[o]);t=!1},d(r){r&&c(e),Vt(n,r)}}}function Yl(i){let e,t,l,n,a,r=i[30].path.indexOf(Lt)>=0,o,s,u=dt(i[30].path)+"",f,d,_,g,O,F,L,S,w,V,P,I,C,$,de,me,oe,le,T,z,q,B,Y;const G=[Xs,Gs],Q=[];function ge(y,A){return y[30].dtype&&y[30].dtype.type!=="map"?0:1}l=ge(i),n=Q[l]=G[l](i);let ie=r&&Ul();function Ce(...y){return i[17](i[30],...y)}g=new Wi({props:{class:"mx-auto w-8",size:"sm",hideLabel:!0,labelA:"",labelB:"",toggled:i[12](i[30])}}),g.$on("toggle",Ce),V=new _n({props:{size:16}});function X(){return i[18](i[30])}$=new dn({props:{size:16}});function H(){return i[19](i[30])}T=new Qi({props:{size:16}});function v(){return i[20](i[30])}return{c(){e=E("div"),t=E("div"),n.c(),a=fe(),ie&&ie.c(),o=fe(),s=E("div"),f=ee(u),d=fe(),_=E("div"),ne(g.$$.fragment),O=fe(),F=E("div"),L=E("div"),S=E("div"),w=E("button"),ne(V.$$.fragment),P=fe(),I=E("div"),C=E("button"),ne($.$$.fragment),me=fe(),oe=E("div"),le=E("button"),ne(T.$$.fragment),z=fe(),this.h()},l(y){e=M(y,"DIV",{class:!0});var A=m(e);t=M(A,"DIV",{class:!0});var W=m(t);n.l(W),a=ce(W),ie&&ie.l(W),W.forEach(c),o=ce(A),s=M(A,"DIV",{class:!0});var ke=m(s);f=te(ke,u),ke.forEach(c),d=ce(A),_=M(A,"DIV",{class:!0});var Ie=m(_);he(g.$$.fragment,Ie),Ie.forEach(c),O=ce(A),F=M(A,"DIV",{class:!0});var j=m(F);L=M(j,"DIV",{class:!0});var be=m(L);S=M(be,"DIV",{class:!0});var ae=m(S);w=M(ae,"BUTTON",{});var we=m(w);he(V.$$.fragment,we),we.forEach(c),ae.forEach(c),P=ce(be),I=M(be,"DIV",{class:!0});var ye=m(I);C=M(ye,"BUTTON",{});var Se=m(C);he($.$$.fragment,Se),Se.forEach(c),ye.forEach(c),me=ce(be),oe=M(be,"DIV",{class:!0});var _e=m(oe);le=M(_e,"BUTTON",{});var Je=m(le);he(T.$$.fragment,Je),Je.forEach(c),_e.forEach(c),be.forEach(c),j.forEach(c),z=ce(A),A.forEach(c),this.h()},h(){b(t,"class","table-cell w-12 rounded-md p-0.5 align-middle"),K(t,"bg-blue-200",i[33]),K(t,"bg-teal-100",i[34]),b(s,"class","table-cell w-40 align-middle"),b(_,"class","table-cell w-8 align-middle"),w.disabled=i[35],K(w,"opacity-50",i[35]),b(S,"class","ml-auto align-middle"),C.disabled=de=i[36],K(C,"opacity-50",i[36]),b(I,"class","align-middle"),b(oe,"class","align-middle"),b(L,"class","flex flex-row gap-x-1"),b(F,"class","table-cell"),b(e,"class","table-row h-10")},m(y,A){D(y,e,A),h(e,t),Q[l].m(t,null),h(t,a),ie&&ie.m(t,null),h(e,o),h(e,s),h(s,f),h(e,d),h(e,_),re(g,_,null),h(e,O),h(e,F),h(F,L),h(L,S),h(S,w),re(V,w,null),h(L,P),h(L,I),h(I,C),re($,C,null),h(L,me),h(L,oe),h(oe,le),re(T,le,null),h(e,z),q=!0,B||(Y=[Ke(w,"click",X),Fe(Ue.call(null,S,{text:"Move media field up"})),Ke(C,"click",H),Fe(Ue.call(null,I,{text:"Move media field down"})),Ke(le,"click",v),Fe(Ue.call(null,oe,{text:"Remove media field"}))],B=!0)},p(y,A){i=y;let W=l;l=ge(i),l===W?Q[l].p(i,A):(Me(),k(Q[W],1,1,()=>{Q[W]=null}),Ve(),n=Q[l],n?n.p(i,A):(n=Q[l]=G[l](i),n.c()),p(n,1),n.m(t,a)),A[0]&3&&(r=i[30].path.indexOf(Lt)>=0),r?ie||(ie=Ul(),ie.c(),ie.m(t,null)):ie&&(ie.d(1),ie=null),(!q||A[0]&3)&&K(t,"bg-blue-200",i[33]),(!q||A[0]&3)&&K(t,"bg-teal-100",i[34]),(!q||A[0]&3)&&u!==(u=dt(i[30].path)+"")&&Te(f,u);const ke={};A[0]&3&&(ke.toggled=i[12](i[30])),g.$set(ke),(!q||A[0]&1&&de!==(de=i[36]))&&(C.disabled=de),(!q||A[0]&1)&&K(C,"opacity-50",i[36])},i(y){q||(p(n),p(g.$$.fragment,y),p(V.$$.fragment,y),p($.$$.fragment,y),p(T.$$.fragment,y),q=!0)},o(y){k(n),k(g.$$.fragment,y),k(V.$$.fragment,y),k($.$$.fragment,y),k(T.$$.fragment,y),q=!1},d(y){y&&c(e),Q[l].d(),ie&&ie.d(),se(g),se(V),se($),se(T),B=!1,rt(Y)}}}function Gs(i){let e,t="{}",l,n;return{c(){e=E("span"),l=ee(t),this.h()},l(a){e=M(a,"SPAN",{class:!0,title:!0});var r=m(e);l=te(r,t),r.forEach(c),this.h()},h(){var a;b(e,"class","font-mono"),b(e,"title",n=(a=i[30].dtype)==null?void 0:a.type)},m(a,r){D(a,e,r),h(e,l)},p(a,r){var o;r[0]&3&&n!==(n=(o=a[30].dtype)==null?void 0:o.type)&&b(e,"title",n)},i:Z,o:Z,d(a){a&&c(e)}}}function Xs(i){let e,t,l;var n=Zt[i[30].dtype.type];function a(r){return{props:{title:r[30].dtype.type}}}return n&&(e=ht(n,a(i))),{c(){e&&ne(e.$$.fragment),t=$e()},l(r){e&&he(e.$$.fragment,r),t=$e()},m(r,o){e&&re(e,r,o),D(r,t,o),l=!0},p(r,o){const s={};if(o[0]&3&&(s.title=r[30].dtype.type),o[0]&3&&n!==(n=Zt[r[30].dtype.type])){if(e){Me();const u=e;k(u.$$.fragment,1,0,()=>{se(u,1)}),Ve()}n?(e=ht(n,a(r)),ne(e.$$.fragment),p(e.$$.fragment,1),re(e,t.parentNode,t)):e=null}else n&&e.$set(s)},i(r){l||(e&&p(e.$$.fragment,r),l=!0)},o(r){e&&k(e.$$.fragment,r),l=!1},d(r){r&&c(t),e&&se(e,r)}}}function Ul(i){let e;return{c(){e=ee("[]")},l(t){e=te(t,"[]")},m(t,l){D(t,e,l)},d(t){t&&c(e)}}}function Kl(i){let e,t,l=i[30]&&Yl(zt(i));return{c(){l&&l.c(),e=$e()},l(n){l&&l.l(n),e=$e()},m(n,a){l&&l.m(n,a),D(n,e,a),t=!0},p(n,a){n[30]?l?(l.p(zt(n),a),a[0]&3&&p(l,1)):(l=Yl(zt(n)),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(Me(),k(l,1,1,()=>{l=null}),Ve())},i(n){t||(p(l),t=!0)},o(n){k(l),t=!1},d(n){l&&l.d(n),n&&c(e)}}}function Zl(i){let e,t;return e=new Nt({props:{buttonOutline:!0,disabled:i[3].length===0,buttonIcon:un,items:i[3],buttonText:"Add media field",comboBoxPlaceholder:"Add media field",hoist:!1}}),e.$on("select",i[8]),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p(l,n){const a={};n[0]&8&&(a.disabled=l[3].length===0),n[0]&8&&(a.items=l[3]),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Js(i){var l;let e,t;return e=new Zi({props:{selected:((l=i[0])==null?void 0:l.preferred_embedding)||void 0,$$slots:{default:[$s]},$$scope:{ctx:i}}}),e.$on("change",i[14]),{c(){ne(e.$$.fragment)},l(n){he(e.$$.fragment,n)},m(n,a){re(e,n,a),t=!0},p(n,a){var o;const r={};a[0]&1&&(r.selected=((o=n[0])==null?void 0:o.preferred_embedding)||void 0),a[0]&64|a[1]&64&&(r.$$scope={dirty:a,ctx:n}),e.$set(r)},i(n){t||(p(e.$$.fragment,n),t=!0)},o(n){k(e.$$.fragment,n),t=!1},d(n){se(e,n)}}}function xs(i){let e,t;return e=new oi({}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p:Z,i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function Wl(i){let e,t;return e=new ui({props:{value:i[26].name}}),{c(){ne(e.$$.fragment)},l(l){he(e.$$.fragment,l)},m(l,n){re(e,l,n),t=!0},p(l,n){const a={};n[0]&64&&(a.value=l[26].name),e.$set(a)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){k(e.$$.fragment,l),t=!1},d(l){se(e,l)}}}function $s(i){let e,t,l,n;e=new ui({props:{value:void 0,text:"None"}});let a=i[6].data||[],r=[];for(let s=0;s<a.length;s+=1)r[s]=Wl(Fl(i,a,s));const o=s=>k(r[s],1,1,()=>{r[s]=null});return{c(){ne(e.$$.fragment),t=fe();for(let s=0;s<r.length;s+=1)r[s].c();l=$e()},l(s){he(e.$$.fragment,s),t=ce(s);for(let u=0;u<r.length;u+=1)r[u].l(s);l=$e()},m(s,u){re(e,s,u),D(s,t,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(s,u);D(s,l,u),n=!0},p(s,u){if(u[0]&64){a=s[6].data||[];let f;for(f=0;f<a.length;f+=1){const d=Fl(s,a,f);r[f]?(r[f].p(d,u),p(r[f],1)):(r[f]=Wl(d),r[f].c(),p(r[f],1),r[f].m(l.parentNode,l))}for(Me(),f=a.length;f<r.length;f+=1)o(f);Ve()}},i(s){if(!n){p(e.$$.fragment,s);for(let u=0;u<a.length;u+=1)p(r[u]);n=!0}},o(s){k(e.$$.fragment,s),r=r.filter(Boolean);for(let u=0;u<r.length;u+=1)k(r[u]);n=!1},d(s){se(e,s),s&&c(t),Vt(r,s),s&&c(l)}}}function ea(i){let e,t,l,n;const a=[Zs,Ks],r=[];function o(s,u){return s[0]==null||s[2].data==null?0:1}return e=o(i),t=r[e]=a[e](i),{c(){t.c(),l=$e()},l(s){t.l(s),l=$e()},m(s,u){r[e].m(s,u),D(s,l,u),n=!0},p(s,u){let f=e;e=o(s),e===f?r[e].p(s,u):(Me(),k(r[f],1,1,()=>{r[f]=null}),Ve(),t=r[e],t?t.p(s,u):(t=r[e]=a[e](s),t.c()),p(t,1),t.m(l.parentNode,l))},i(s){n||(p(t),n=!0)},o(s){k(t),n=!1},d(s){r[e].d(s),s&&c(l)}}}function ta(i,e,t){let l,n,a,r,o,s=Z,u=()=>(s(),s=Qe(l,B=>t(2,o=B)),l),f;i.$$.on_destroy.push(()=>s());let{namespace:d}=e,{datasetName:_}=e,{newSettings:g}=e;const O=Ui();Ge(i,O,B=>t(6,f=B));function F(B){const Y=B.detail.id;g.ui==null&&t(0,g.ui={},g),g.ui.media_paths==null&&t(0,g.ui.media_paths=[],g),g.ui.media_paths.find(Q=>tt(Q,Y.path))==null&&t(0,g.ui.media_paths=[...g.ui.media_paths,Y.path],g)}function L(B){var Y;((Y=g.ui)==null?void 0:Y.media_paths)!=null&&t(0,g.ui.media_paths=g.ui.media_paths.filter(G=>!tt(G,B.path)),g)}function S(B){var G;if(((G=g.ui)==null?void 0:G.media_paths)==null)return;const Y=g.ui.media_paths.findIndex(Q=>tt(Q,B.path));Y<=0||t(0,g.ui.media_paths=[...g.ui.media_paths.slice(0,Y-1),B.path,g.ui.media_paths[Y-1],...g.ui.media_paths.slice(Y+1)],g)}function w(B){var G;if(((G=g.ui)==null?void 0:G.media_paths)==null)return;const Y=g.ui.media_paths.findIndex(Q=>tt(Q,B.path));Y<0||Y>=g.ui.media_paths.length-1||t(0,g.ui.media_paths=[...g.ui.media_paths.slice(0,Y),g.ui.media_paths[Y+1],B.path,...g.ui.media_paths.slice(Y+2)],g)}function V(B){var Y,G;return((G=(Y=g.ui)==null?void 0:Y.markdown_paths)==null?void 0:G.find(Q=>tt(Q,B.path)))!=null}function P(B,Y){B.detail.toggled?I(Y):C(Y)}function I(B){g.ui==null&&t(0,g.ui={},g),g.ui.markdown_paths==null&&t(0,g.ui.markdown_paths=[],g),g.ui.markdown_paths.find(G=>tt(G,B.path))==null&&t(0,g.ui.markdown_paths=[...g.ui.markdown_paths,B.path],g)}function C(B){g.ui!=null&&g.ui.markdown_paths!=null&&t(0,g.ui.markdown_paths=g.ui.markdown_paths.filter(Y=>!tt(Y,B.path)),g)}function $(B){const Y=B.target.value;t(0,g.preferred_embedding=Y===""?void 0:Y,g)}const de=(B,Y)=>P(Y,B),me=B=>S(B),oe=B=>w(B),le=B=>L(B),T=(B,Y)=>tt(Y.path,B),z=()=>{(g==null?void 0:g.ui)!=null&&t(0,g.ui.view_type="scroll",g)},q=()=>{(g==null?void 0:g.ui)!=null&&t(0,g.ui.view_type="single_item",g)};return i.$$set=B=>{"namespace"in B&&t(15,d=B.namespace),"datasetName"in B&&t(16,_=B.datasetName),"newSettings"in B&&t(0,g=B.newSettings)},i.$$.update=()=>{var B;i.$$.dirty[0]&98304&&u(t(5,l=Ot(d,_))),i.$$.dirty[0]&1&&t(4,n=((B=g==null?void 0:g.ui)==null?void 0:B.view_type)||"single_item"),i.$$.dirty[0]&4&&t(1,a=o.data!=null?ri(o.data).filter(Y=>{var G;return((G=Y.dtype)==null?void 0:G.type)==="string"&&!tt(Y.path,[Ki])&&!si(Y)&&!ai(Y)}):null),i.$$.dirty[0]&3&&t(3,r=a!=null?a.filter(Y=>{var G,Q;return!((Q=(G=g.ui)==null?void 0:G.media_paths)!=null&&Q.includes(Y.path))}).map(Y=>{const G=dt(Y.path);return{id:Y,text:G}}):null)},[g,a,o,r,n,l,f,O,F,L,S,w,V,P,$,d,_,de,me,oe,le,T,z,q]}class ga extends Ae{constructor(e){super(),ze(this,e,ta,ea,Le,{namespace:15,datasetName:16,newSettings:0},null,[-1,-1])}}export{un as A,kn as C,$n as D,br as E,_a as R,ci as T,En as a,As as b,ga as c};
